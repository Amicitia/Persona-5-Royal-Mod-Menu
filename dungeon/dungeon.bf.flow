
// 
// FlowScript decompiled by AtlusScriptLib by TGE (2017)
// In the unfortunate case of any bugs, please report them back to me.
// 


// 
// Imports
// 

import( "../ModMenu.msg" );
import( "../ModMenu.flow" );
import( "dungeon.bf.msg" );

// 
// Script-level variable definitions
// 

int variable20;
int variable19;
int variable13;
int variable120;
int variable121;
int variable122;
int variable123;
int variable124;
int variable125;
int variable126;
int variable127;
int variable117;
int variable118;
int variable133;
int variable12;

// 
// Procedure declarations
// 

void dng_square_menu()
{
    //auto_recover();
	ModMenuDisplay();
}

void dng_r_menu()
{
    int localVariable0 = 0;
    int localVariable1 = FLD_GET_MAJOR();
    int localVariable2 = FLD_GET_MINOR();
    localVariable0 = 1;
    
    if ( localVariable2 == 1 || localVariable2 == 51 )
    {
        localVariable0 = 0;
    }

    
    if ( localVariable1 == 157 && localVariable2 == 52 )
    {
        localVariable0 = 0;
    }

    
    if ( localVariable1 == 160 && localVariable2 == 6 )
    {
        localVariable0 = 0;
    }

    
    if ( localVariable1 == 152 && localVariable2 == 1 )
    {
        localVariable0 = 1;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 67 ) )
    {
        localVariable0 = 1;
    }

    
    if ( localVariable0 == 0 )
    {
        
        if ( localVariable1 == 151 || localVariable1 == 152 )
        {
            
            if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 350 ) )
            {
                localVariable0 = 1;
            }

        }
        else if ( localVariable1 == 153 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 840 ) )
        {
            localVariable0 = 1;
        }
        else if ( localVariable1 == 154 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1240 ) )
        {
            localVariable0 = 1;
        }
        else if ( localVariable1 == 155 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1640 ) )
        {
            localVariable0 = 1;
        }
        else if ( localVariable1 == 156 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2040 ) )
        {
            localVariable0 = 1;
        }
        else if ( localVariable1 == 157 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2440 ) )
        {
            localVariable0 = 1;
        }
        else if ( localVariable1 == 159 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2940 ) )
        {
            localVariable0 = 1;
        }
        else if ( localVariable1 == 159 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2705 ) )
        {
            localVariable0 = 1;
        }
        else if ( localVariable1 == 161 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 3446 ) )
        {
            localVariable0 = 1;
        }
        else if ( localVariable1 == 160 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 3435 ) )
        {
            localVariable0 = 1;
        }
        else if ( localVariable1 == 191 && localVariable1 == 50 && BIT_CHK( 0 + 0x0800 + 0x0800 + 1808 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1809 ) )
        {
            localVariable0 = 1;
        }

    }

    
    if ( localVariable1 == 155 && localVariable2 == 13 && GET_COUNT( 148 ) >= 34000 )
    {
        localVariable0 = 0;
    }

    
    if ( localVariable0 == 0 )
    {
        
        if ( localVariable1 == 151 || localVariable1 == 152 )
        {
            D_FastTravel_D01();
        }
        else if ( localVariable1 == 153 )
        {
            D_FastTravel_D02();
        }
        else if ( localVariable1 == 154 )
        {
            D_FastTravel_D03();
        }
        else if ( localVariable1 == 155 )
        {
            D_FastTravel_D04();
        }
        else if ( localVariable1 == 156 )
        {
            D_FastTravel_D05();
        }
        else if ( localVariable1 == 157 )
        {
            D_FastTravel_D06();
        }
        else if ( localVariable1 == 159 )
        {
            D_FastTravel_D07();
        }
        else if ( localVariable1 == 161 )
        {
            D_FastTravel_D08();
        }
        else if ( localVariable1 == 160 )
        {
            D_FastTravel_LAST();
        }
        else if ( localVariable1 == 190 && localVariable2 == 1 )
        {
            D_FastTravel_AT_D();
        }
        else 
        {
            D_FIELD_SHORTCUT();
        }

    }

}


void dng_up_menu()
{
}


void dng_down_menu()
{
}


void dng_left_menu()
{
}


void dng_right_menu()
{
}


void dng_start_menu()
{
    
    if ( FLD_CHECK_SAVE_ENABLE() )
    {
        FLD_PANEL_DISP( 0 );
        SAVE();
        SAVE_UI_SYNC();
        SAVE_SYNC();
        FLD_PANEL_DISP( 1 );
    }

}


void dng_after_battle()
{
    FLD_SET_LOCAL_COUNT( 49152 + 15, 0 );
    int localVariable3 = FLD_GET_MAJOR();
    int localVariable4 = FLD_GET_MINOR();
    
    if ( localVariable3 == 152 && BIT_CHK( 0 + 0x0800 + 0x0800 + 201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 204 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 147 );
    }
    else if ( localVariable3 == 151 && BIT_CHK( 0 + 0x0800 + 0x0800 + 318 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 267 ) )
    {
        D01_ITEM_GET_CHECK();
    }
    else if ( localVariable3 == 157 && localVariable4 == 5 && BIT_CHK( 0 + 0x0800 + 0x0800 + 2201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2294 ) )
    {
        D06_ENEMY_CHECK();
    }

}


void dng_escape()
{
    TIMER_DESTROY();
    FLD_ESCAPE_EFFECT();
    SYNC();
    FLD_SET_FIX_BGM( 0 );
    FLD_REQ_BGM();
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2309 ) )
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 2309 );
    }

    int localVariable5 = FLD_GET_MAJOR();
    
    if ( localVariable5 == 151 || localVariable5 == 152 )
    {
        CALL_FIELD( 151, 1, 2, 0 );
    }
    else if ( localVariable5 == 153 )
    {
        CALL_FIELD( 153, 1, 2, 0 );
    }
    else if ( localVariable5 == 154 )
    {
        CALL_FIELD( 154, 1, 2, 0 );
    }
    else if ( localVariable5 == 155 )
    {
        CALL_FIELD( 155, 1, 5, 0 );
    }
    else if ( localVariable5 == 156 )
    {
        CALL_FIELD( 156, 1, 2, 0 );
    }
    else if ( localVariable5 == 157 )
    {
        CALL_FIELD( 157, 1, 2, 0 );
    }
    else if ( localVariable5 == 159 )
    {
        CALL_FIELD( 159, 1, 2, 0 );
    }
    else if ( localVariable5 == 160 )
    {
        CALL_FIELD( 160, 1, 0, 0 );
    }
    else if ( localVariable5 == 161 )
    {
        CALL_FIELD( 161, 1, 0, 0 );
    }
    else if ( localVariable5 == 190 || localVariable5 == 191 || localVariable5 == 192 || localVariable5 == 193 || localVariable5 == 194 )
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 14 );
        BIT_OFF( 0 + 0x0800 + 0x0800 + 15 );
        CALL_FIELD( 190, 1, 0, 0 );
    }

}


void dng_sneaking_item()
{
    int localVariable6 = FLD_GET_SNEAKING_ITEM_ID();
    
    if ( localVariable6 == 12288 + 101 )
    {
        dng_escape();
    }
    else if ( localVariable6 >= 12288 + 103 && localVariable6 <= 12288 + 105 )
    {
        FLD_START_SMK_BALL( localVariable6 - 12288 + 103 );
    }
    else if ( localVariable6 == 12288 + 340 )
    {
        FLD_START_SMK_BALL( 3 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 93 );
    }
    else if ( localVariable6 >= 12288 + 106 && localVariable6 <= 12288 + 107 )
    {
        FLD_START_SMK_BALL( 4 + localVariable6 - 12288 + 106 );
    }

}


void dng_leave()
{
    TIMER_DESTROY();
    ALERT_MAX_EXIT();
    FADEOUT( 15, 10 );
    FADE_SYNC();
    SYNC();
    FLD_SET_FIX_BGM( 0 );
    FLD_REQ_BGM();
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 7 ) )
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 7 );
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2309 ) )
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 2309 );
    }

    D_EXIT_EV_FIRST();
    dungeon_return();
    dungeon_exit_time_set();
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 601 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 604 ) && GET_COUNT( 146 ) == 29050 )
        {
            BIT_ON( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 18 );
        }

    }

    D_EXIT_EV_SECOND();
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 601 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 18 ) && GET_COUNT( 146 ) == 29000 )
        {
            BIT_OFF( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 18 );
        }

    }

    
    if ( CHK_DAYS( 4, 2 ) == 1 )
    {
        CALL_FIELD( 2, 5, 10, 0 );
    }
    else 
    {
        CALL_CALENDAR();
    }

}


void dng_alert_up()
{
}


void dng_alert_down()
{
}


void dng_sobj_recover()
{
    sobj_recover();
}


void dng_gimmick()
{
    
    if ( FLD_GET_MAJOR() == 154 && FLD_GET_MINOR() == 3 )
    {
        F153_003_CAMERA();
    }

}


void F153_003_CAMERA()
{
    int localVariable7 = 0;
    
    if ( FLD_GET_GMK_CAMERA_UID() == 64101 || FLD_GET_GMK_CAMERA_UID() == 64123 )
    {
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 1122 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1121 ) )
        {
            
            if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1122 ) && BIT_CHK( 0 + 0x0800 + 0x0800 + 1121 ) )
            {
                return;
            }
            else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1114 ) )
            {
                return;
            }
            else 
            {
                localVariable7 = FLD_SCRIPT_READ( 154, 3, 140 );
                FLD_SCRIPT_READ_SYNC( localVariable7 );
                FLD_SCRIPT_EXEC( localVariable7, 0 );
                FLD_SCRIPT_FREE( localVariable7 );
            }

        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1122 ) || BIT_CHK( 0 + 0x0800 + 0x0800 + 1121 ) )
        {
            
            if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1122 ) && BIT_CHK( 0 + 0x0800 + 0x0800 + 1121 ) )
            {
                return;
            }
            else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1117 ) )
            {
                return;
            }
            else if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 1114 ) )
            {
                localVariable7 = FLD_SCRIPT_READ( 154, 3, 140 );
                FLD_SCRIPT_READ_SYNC( localVariable7 );
                FLD_SCRIPT_EXEC( localVariable7, 0 );
                FLD_SCRIPT_FREE( localVariable7 );
                BIT_ON( 0 + 0x0800 + 0x0800 + 1117 );
            }
            else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1114 ) )
            {
                localVariable7 = FLD_SCRIPT_READ( 154, 3, 141 );
                FLD_SCRIPT_READ_SYNC( localVariable7 );
                FLD_SCRIPT_EXEC( localVariable7, 0 );
                FLD_SCRIPT_FREE( localVariable7 );
            }

        }

    }
    else if ( FLD_GET_GMK_CAMERA_UID() == 64097 || FLD_GET_GMK_CAMERA_UID() == 64095 || FLD_GET_GMK_CAMERA_UID() == 64001 || FLD_GET_GMK_CAMERA_UID() == 64002 || FLD_GET_GMK_CAMERA_UID() == 64006 || FLD_GET_GMK_CAMERA_UID() == 64005 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1124 ) )
        {
            return;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1115 ) )
        {
            return;
        }
        else 
        {
            localVariable7 = FLD_SCRIPT_READ( 154, 3, 150 );
            FLD_SCRIPT_READ_SYNC( localVariable7 );
            FLD_SCRIPT_EXEC( localVariable7, 0 );
            FLD_SCRIPT_FREE( localVariable7 );
        }

    }
    else if ( FLD_GET_GMK_CAMERA_UID() == 64096 || FLD_GET_GMK_CAMERA_UID() == 64134 || FLD_GET_GMK_CAMERA_UID() == 64094 || FLD_GET_GMK_CAMERA_UID() == 64133 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1123 ) )
        {
            return;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1116 ) )
        {
            return;
        }
        else 
        {
            localVariable7 = FLD_SCRIPT_READ( 154, 3, 160 );
            FLD_SCRIPT_READ_SYNC( localVariable7 );
            FLD_SCRIPT_EXEC( localVariable7, 0 );
            FLD_SCRIPT_FREE( localVariable7 );
        }

    }

}


void get_search_object()
{
    FLD_GET_SCH_OBJ_BEGIN( FLD_OBJ_GET_RESHND() );
    FLD_GET_SCH_OBJ_ITEM( 2 );
    FLD_GET_SCH_OBJ_END();
}


void DUNGEON_PARTY_TALK()
{
    int localVariable8 = 0;
    int localVariable9 = FLD_GET_MAJOR();
    int localVariable10 = FLD_GET_MINOR();
    
    if ( localVariable9 == 150 )
    {
        localVariable8 = 150;
    }
    else if ( localVariable9 == 151 || localVariable9 == 152 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 202 ) )
        {
            localVariable8 = 152;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 203 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 204 ) )
        {
            localVariable8 = 152;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 205 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 206 ) )
        {
            localVariable8 = 151;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 206 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 249 ) )
        {
            localVariable8 = 151;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 80 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 200 ) )
        {
            localVariable8 = 151;
        }
        else 
        {
            localVariable8 = 151;
        }

    }
    else if ( localVariable9 == 153 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 601 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 602 ) )
        {
            localVariable8 = 153;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 603 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 604 ) )
        {
            localVariable8 = 153;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 607 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 608 ) )
        {
            localVariable8 = 153;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 605 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 611 ) )
        {
            localVariable8 = 153;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 80 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) )
        {
            localVariable8 = 153;
        }
        else 
        {
            localVariable8 = 153;
        }

    }
    else if ( localVariable9 == 154 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1002 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1003 ) )
        {
            localVariable8 = 154;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1004 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1005 ) )
        {
            localVariable8 = 154;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1006 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1012 ) )
        {
            localVariable8 = 154;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 80 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) )
        {
            localVariable8 = 154;
        }
        else 
        {
            localVariable8 = 154;
        }

    }
    else if ( localVariable9 == 155 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1402 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1403 ) )
        {
            localVariable8 = 155;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1404 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1422 ) )
        {
            localVariable8 = 155;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1404 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1405 ) )
        {
            localVariable8 = 155;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1408 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1409 ) )
        {
            localVariable8 = 155;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 80 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1400 ) )
        {
            localVariable8 = 155;
        }
        else 
        {
            localVariable8 = 155;
        }

    }
    else if ( localVariable9 == 156 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1801 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1802 ) )
        {
            localVariable8 = 156;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1808 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1809 ) )
        {
            localVariable8 = 156;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1803 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1805 ) )
        {
            localVariable8 = 156;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 80 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1800 ) )
        {
            localVariable8 = 156;
        }
        else 
        {
            localVariable8 = 156;
        }

    }
    else if ( localVariable9 == 157 || localVariable9 == 150 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2202 ) )
        {
            localVariable8 = 157;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2202 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2203 ) )
        {
            localVariable8 = 157;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2203 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2204 ) )
        {
            localVariable8 = 157;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 80 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2200 ) )
        {
            localVariable8 = 157;
        }
        else if ( localVariable9 == 150 && BIT_CHK( 0 + 0x0800 + 0x0800 + 2200 ) )
        {
            localVariable8 = 157;
        }
        else 
        {
            localVariable8 = 157;
        }

    }
    else if ( localVariable9 == 159 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2701 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2705 ) )
        {
            localVariable8 = 159;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2705 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2702 ) )
        {
            localVariable8 = 159;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 80 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2700 ) )
        {
            localVariable8 = 159;
        }
        else 
        {
            localVariable8 = 159;
        }

    }
    else if ( localVariable9 == 161 || localVariable9 == 160 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 3105 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 3106 ) )
        {
            localVariable8 = 161;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 3107 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 3100 ) )
        {
            localVariable8 = 160;
        }
        else if ( localVariable9 == 161 )
        {
            localVariable8 = 161;
        }
        else 
        {
            localVariable8 = 160;
        }

    }
    else 
    {
        localVariable8 = 151;
    }

    
    if ( localVariable8 > 0 )
    {
        int localVariable11 = FLD_SCRIPT_READ( localVariable8, 0, 0 );
        FLD_SCRIPT_READ_SYNC( localVariable11 );
        FLD_SCRIPT_EXEC( localVariable11, 0 );
        FLD_SCRIPT_FREE( localVariable11 );
    }

}


void DUNGEON_ALERT_MODE()
{
    MSG_WND_DSP();
    MSG( DUNGEON_ALERT_MODE_mes01, 0 );
    MSG_WND_CLS();
}


void D_FIELD_SHORTCUT()
{
    int localVariable15 = FLD_GET_MAJOR();
    int localVariable16 = FLD_GET_MINOR();
    variable13 = 131071;
    
    if ( localVariable15 == 153 )
    {
        variable12 = 2;
    }
    else if ( localVariable15 == 154 )
    {
        variable12 = 3;
    }
    else if ( localVariable15 == 155 )
    {
        variable12 = 4;
    }
    else if ( localVariable15 == 156 )
    {
        variable12 = 5;
    }
    else if ( localVariable15 == 157 )
    {
        variable12 = 6;
    }
    else if ( localVariable15 == 159 )
    {
        variable12 = 7;
    }
    else if ( localVariable15 == 161 )
    {
        variable12 = 8;
    }
    else if ( localVariable15 == 160 )
    {
        variable12 = 8;
    }
    else if ( localVariable15 == 190 )
    {
        variable12 = 9;
    }
    else 
    {
        variable12 = 0;
    }

    variable13 = variable13 - 1;
    
    if ( variable13 != 131071 )
    {
        int localVariable14 = FLD_SEL_EX( 1, variable12, 0, variable13, 1 );
        FLD_PANEL_MAP_PROC_SYNC( 0 );
    }

}


void DUNGEON_TOOL()
{
    variable20 = 12288 + 101;
    int localVariable21 = 12288 + 103;
    int localVariable22 = 0;
    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 34 ) )
    {
        FLD_TOOL_USE();
        FLD_TOOL_CREATE_SYNC();
        localVariable22 = FLD_TOOL_GET_ITEMID();
        
        if ( localVariable22 == variable20 )
        {
            ESCAPE_ITEM_SYS();
        }

    }
    else 
    {
        return;
    }

}


void ESCAPE_ITEM_SYS()
{
    int localVariable25 = GET_ITEM_NUM( variable20 );
    ESCAPE_MENU_MASK();
    int localVariable17 = 0;
    int localVariable23 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 68 ) )
    {
        MSG_WND_DSP();
        MSG( ESCAPE_ITEM_MENU_EV_NG, 4 );
        MSG_WND_CLS();
        localVariable17 = 0;
    }
    else if ( localVariable25 > 0 )
    {
        MSG_WND_DSP();
        MSG( ESCAPE_ITEM_MENU, 0 );
        SEL_DEFKEY( 14, 3 );
        SEL_MASK( variable19 );
        localVariable23 = SEL( ESCAPE_ITEM_MENU_SEL );
        MSG_WND_CLS();
        
        if ( localVariable23 == 0 )
        {
            localVariable17 = 1;
        }
        else if ( localVariable23 == 1 )
        {
            localVariable17 = 2;
        }
        else if ( localVariable23 == 2 )
        {
            localVariable17 = 0;
        }

    }
    else 
    {
        MSG_WND_DSP();
        MSG( ESCAPE_ITEM_MENU_NG, 4 );
        MSG_WND_CLS();
        localVariable17 = 0;
    }

    
    if ( localVariable17 > 0 )
    {
        SET_ITEM_NUM( variable20, localVariable25 - 1 );
        FLD_ESCAPE_EFFECT();
        
        if ( localVariable17 == 1 )
        {
            SET_COUNT( 159, 0 );
        }
        else if ( localVariable17 == 2 )
        {
            int localVariable24 = GET_COUNT( 157 );
            SET_COUNT( 159, localVariable24 );
        }

        ESCAPE_SAFEROOM();
    }

}


void ESCAPE_MENU_MASK()
{
    int localVariable26 = FLD_GET_MAJOR();
    int localVariable27 = FLD_GET_MINOR();
    
    if ( localVariable26 == 151 || localVariable26 == 152 )
    {
        
        if ( localVariable27 == 1 )
        {
            variable19 = 1;
        }

    }
    else if ( localVariable26 == 153 )
    {
        
        if ( localVariable27 == 1 )
        {
            variable19 = 1;
        }

    }
    else if ( localVariable26 == 154 )
    {
        
        if ( localVariable27 == 15 )
        {
            variable19 = 1;
        }

    }
    else if ( localVariable26 == 155 )
    {
        
        if ( localVariable27 == 1 )
        {
            variable19 = 1;
        }

    }

    
    if ( localVariable26 == 153 )
    {
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 840 ) )
        {
            variable19 = variable19 + 2;
        }

    }
    else if ( localVariable26 == 154 )
    {
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 1240 ) )
        {
            variable19 = variable19 + 2;
        }

    }
    else if ( localVariable26 == 155 )
    {
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 1640 ) )
        {
            variable19 = variable19 + 2;
        }

    }

}


void ESCAPE_SAFEROOM()
{
    int localVariable28 = FLD_GET_MAJOR();
    int localVariable29 = FLD_GET_MINOR();
    
    if ( localVariable28 == 151 || localVariable28 == 152 )
    {
        D01_SAFETY_GOTO();
    }
    else if ( localVariable28 == 153 )
    {
        D02_SAFETY_GOTO();
    }
    else if ( localVariable28 == 154 )
    {
        D03_SAFETY_GOTO();
    }
    else if ( localVariable28 == 155 )
    {
        D04_SAFETY_GOTO();
    }

}


void D_FastTravel_D01()
{
    int localVariable31 = 131071;
    int localVariable32 = GET_COUNT( 159 );
    int localVariable33 = FLD_GET_MINOR();
    localVariable31 = localVariable31 - 1;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 359 ) )
    {
        localVariable31 = localVariable31 - 4;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 351 ) )
    {
        localVariable31 = localVariable31 - 8;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 352 ) )
    {
        localVariable31 = localVariable31 - 0x10;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 353 ) )
    {
        localVariable31 = localVariable31 - 0x20;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 354 ) )
    {
        localVariable31 = localVariable31 - 0x40;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 355 ) )
    {
        localVariable31 = localVariable31 - 0x80;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 356 ) )
    {
        localVariable31 = localVariable31 - 0x0100;
    }

    int localVariable34 = 0;
    
    if ( localVariable32 == 0 )
    {
        FLD_MAP_PANEL_CHANGE( 151, 1, 0 );
        localVariable34 = 0;
    }
    else if ( localVariable32 == 11 )
    {
        FLD_MAP_PANEL_CHANGE( 152, 1, 0 );
        localVariable34 = 2;
    }
    else if ( localVariable32 == 1 )
    {
        FLD_MAP_PANEL_CHANGE( 151, 14, 0 );
        localVariable34 = 3;
    }
    else if ( localVariable32 == 2 )
    {
        FLD_MAP_PANEL_CHANGE( 151, 2, 1 );
        localVariable34 = 4;
    }
    else if ( localVariable32 == 3 )
    {
        FLD_MAP_PANEL_CHANGE( 151, 4, 1 );
        localVariable34 = 5;
    }
    else if ( localVariable32 == 4 )
    {
        FLD_MAP_PANEL_CHANGE( 151, 5, 0 );
        localVariable34 = 6;
    }
    else if ( localVariable32 == 21 )
    {
        FLD_MAP_PANEL_CHANGE( 151, 7, 0 );
        localVariable34 = 7;
    }
    else if ( localVariable32 == 22 )
    {
        FLD_MAP_PANEL_CHANGE( 151, 11, 0 );
        localVariable34 = 8;
    }

    int localVariable30 = FLD_SEL_EX( 1, 1, 0, localVariable31, 100 + localVariable34 );
    FLD_PANEL_MAP_PROC_SYNC( 0 );
}


void D_FastTravel_D02()
{
    int localVariable36 = 131071;
    int localVariable37 = GET_COUNT( 159 );
    int localVariable38 = FLD_GET_MINOR();
    localVariable36 = localVariable36 - 1;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 842 ) )
    {
        localVariable36 = localVariable36 - 4;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 843 ) )
    {
        localVariable36 = localVariable36 - 8;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 845 ) )
    {
        localVariable36 = localVariable36 - 0x10;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 846 ) )
    {
        localVariable36 = localVariable36 - 0x20;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 847 ) )
    {
        localVariable36 = localVariable36 - 0x40;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 848 ) )
    {
        localVariable36 = localVariable36 - 0x80;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 849 ) )
    {
        localVariable36 = localVariable36 - 0x0100;
    }

    int localVariable39 = 0;
    
    if ( localVariable37 == 0 )
    {
        FLD_MAP_PANEL_CHANGE( 153, 1, 0 );
        localVariable39 = 0;
    }
    else if ( localVariable37 == 2 )
    {
        FLD_MAP_PANEL_CHANGE( 153, 12, 0 );
        localVariable39 = 2;
    }
    else if ( localVariable37 == 3 )
    {
        FLD_MAP_PANEL_CHANGE( 153, 3, 0 );
        localVariable39 = 3;
    }
    else if ( localVariable37 == 5 )
    {
        FLD_MAP_PANEL_CHANGE( 153, 5, 0 );
        localVariable39 = 4;
    }
    else if ( localVariable37 == 6 )
    {
        FLD_MAP_PANEL_CHANGE( 153, 6, 0 );
        localVariable39 = 5;
    }
    else if ( localVariable37 == 7 )
    {
        FLD_MAP_PANEL_CHANGE( 153, 7, 0 );
        localVariable39 = 6;
    }
    else if ( localVariable37 == 8 )
    {
        FLD_MAP_PANEL_CHANGE( 153, 9, 0 );
        localVariable39 = 7;
    }
    else if ( localVariable37 == 9 )
    {
        FLD_MAP_PANEL_CHANGE( 153, 9, 2 );
        localVariable39 = 8;
    }

    int localVariable35 = FLD_SEL_EX( 1, 2, 0, localVariable36, 100 + localVariable39 );
    FLD_PANEL_MAP_PROC_SYNC( 0 );
}


void D_FastTravel_D03()
{
    int localVariable41 = 131071;
    int localVariable42 = GET_COUNT( 159 );
    int localVariable43 = FLD_GET_MINOR();
    localVariable41 = localVariable41 - 1;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1243 ) )
    {
        localVariable41 = localVariable41 - 0x10;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1246 ) )
    {
        localVariable41 = localVariable41 - 0x80;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1247 ) )
    {
        localVariable41 = localVariable41 - 0x0100;
    }

    int localVariable44 = 0;
    
    if ( localVariable42 == 0 )
    {
        FLD_MAP_PANEL_CHANGE( 154, 1, 0 );
        localVariable44 = 0;
    }
    else if ( localVariable42 == 3 )
    {
        FLD_MAP_PANEL_CHANGE( 154, 3, 1 );
        localVariable44 = 4;
    }
    else if ( localVariable42 == 6 )
    {
        FLD_MAP_PANEL_CHANGE( 154, 14, 0 );
        localVariable44 = 7;
    }
    else if ( localVariable42 == 7 )
    {
        FLD_MAP_PANEL_CHANGE( 154, 5, 0 );
        localVariable44 = 8;
    }

    int localVariable40 = FLD_SEL_EX( 1, 3, 0, localVariable41, 100 + localVariable44 );
    FLD_PANEL_MAP_PROC_SYNC( 0 );
}


void D_FastTravel_D04()
{
    int localVariable46 = 131071;
    int localVariable47 = GET_COUNT( 159 );
    int localVariable48 = FLD_GET_MINOR();
    localVariable46 = localVariable46 - 1;
    
    if ( localVariable48 != 13 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1642 ) )
        {
            localVariable46 = localVariable46 - 8;
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1643 ) )
        {
            localVariable46 = localVariable46 - 0x10;
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1644 ) )
        {
            localVariable46 = localVariable46 - 0x20;
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1645 ) )
        {
            localVariable46 = localVariable46 - 0x40;
        }

    }

    int localVariable49 = 0;
    
    if ( localVariable47 == 0 )
    {
        FLD_MAP_PANEL_CHANGE( 155, 1, 0 );
        localVariable49 = 0;
    }
    else if ( localVariable47 == 2 )
    {
        FLD_MAP_PANEL_CHANGE( 155, 2, 1 );
        localVariable49 = 3;
    }
    else if ( localVariable47 == 3 )
    {
        FLD_MAP_PANEL_CHANGE( 155, 2, 1 );
        localVariable49 = 4;
    }
    else if ( localVariable47 == 4 )
    {
        FLD_MAP_PANEL_CHANGE( 155, 2, 1 );
        localVariable49 = 5;
    }
    else if ( localVariable47 == 5 )
    {
        FLD_MAP_PANEL_CHANGE( 155, 4, 0 );
        localVariable49 = 6;
    }

    int localVariable45 = FLD_SEL_EX( 1, 4, 0, localVariable46, 100 + localVariable49 );
    FLD_PANEL_MAP_PROC_SYNC( 0 );
}


void D_FastTravel_D05()
{
    int localVariable51 = 131071;
    int localVariable52 = GET_COUNT( 159 );
    int localVariable53 = FLD_GET_MINOR();
    localVariable51 = localVariable51 - 1;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2041 ) )
    {
        localVariable51 = localVariable51 - 4;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2042 ) )
    {
        localVariable51 = localVariable51 - 8;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2043 ) )
    {
        localVariable51 = localVariable51 - 0x10;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2044 ) )
    {
        localVariable51 = localVariable51 - 0x20;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2045 ) )
    {
        localVariable51 = localVariable51 - 0x40;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2046 ) )
    {
        localVariable51 = localVariable51 - 0x80;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2047 ) )
    {
        localVariable51 = localVariable51 - 0x0100;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x0800 ) )
    {
        localVariable51 = localVariable51 - 0x0200;
    }

    int localVariable54 = 0;
    
    if ( localVariable52 == 0 )
    {
        FLD_MAP_PANEL_CHANGE( 156, 1, 0 );
        localVariable54 = 0;
    }
    else if ( localVariable52 == 1 )
    {
        FLD_MAP_PANEL_CHANGE( 156, 3, 0 );
        localVariable54 = 2;
    }
    else if ( localVariable52 == 2 )
    {
        FLD_MAP_PANEL_CHANGE( 156, 13, 0 );
        localVariable54 = 3;
    }
    else if ( localVariable52 == 3 )
    {
        FLD_MAP_PANEL_CHANGE( 156, 4, 0 );
        localVariable54 = 4;
    }
    else if ( localVariable52 == 4 )
    {
        FLD_MAP_PANEL_CHANGE( 156, 7, 0 );
        localVariable54 = 5;
    }
    else if ( localVariable52 == 5 )
    {
        FLD_MAP_PANEL_CHANGE( 156, 9, 0 );
        localVariable54 = 6;
    }
    else if ( localVariable52 == 6 )
    {
        FLD_MAP_PANEL_CHANGE( 156, 12, 0 );
        localVariable54 = 7;
    }
    else if ( localVariable52 == 7 )
    {
        FLD_MAP_PANEL_CHANGE( 156, 6, 0 );
        localVariable54 = 8;
    }
    else if ( localVariable52 == 8 )
    {
        FLD_MAP_PANEL_CHANGE( 156, 10, 0 );
        localVariable54 = 9;
    }

    int localVariable50 = FLD_SEL_EX( 1, 5, 0, localVariable51, 100 + localVariable54 );
    FLD_PANEL_MAP_PROC_SYNC( 0 );
}


void D_FastTravel_D06()
{
    int localVariable56 = 131071;
    int localVariable57 = GET_COUNT( 159 );
    int localVariable58 = FLD_GET_MINOR();
    localVariable56 = localVariable56 - 1;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2441 ) )
    {
        localVariable56 = localVariable56 - 4;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2442 ) )
    {
        localVariable56 = localVariable56 - 8;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2443 ) )
    {
        localVariable56 = localVariable56 - 0x10;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2444 ) )
    {
        localVariable56 = localVariable56 - 0x20;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2445 ) )
    {
        localVariable56 = localVariable56 - 0x40;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2446 ) )
    {
        localVariable56 = localVariable56 - 0x80;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2447 ) )
    {
        localVariable56 = localVariable56 - 0x0100;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2448 ) )
    {
        localVariable56 = localVariable56 - 0x0200;
    }

    int localVariable59 = 0;
    
    if ( localVariable57 == 0 )
    {
        FLD_MAP_PANEL_CHANGE( 157, 1, 0 );
        localVariable59 = 0;
    }
    else if ( localVariable57 == 1 )
    {
        FLD_MAP_PANEL_CHANGE( 157, 4, 0 );
        localVariable59 = 2;
    }
    else if ( localVariable57 == 2 )
    {
        FLD_MAP_PANEL_CHANGE( 157, 5, 0 );
        localVariable59 = 3;
    }
    else if ( localVariable57 == 3 )
    {
        FLD_MAP_PANEL_CHANGE( 157, 6, 0 );
        localVariable59 = 4;
    }
    else if ( localVariable57 == 4 )
    {
        FLD_MAP_PANEL_CHANGE( 157, 8, 0 );
        localVariable59 = 5;
    }
    else if ( localVariable57 == 5 )
    {
        FLD_MAP_PANEL_CHANGE( 157, 11, 0 );
        localVariable59 = 6;
    }
    else if ( localVariable57 == 6 )
    {
        FLD_MAP_PANEL_CHANGE( 157, 12, 0 );
        localVariable59 = 7;
    }
    else if ( localVariable57 == 7 )
    {
        FLD_MAP_PANEL_CHANGE( 157, 13, 1 );
        localVariable59 = 8;
    }
    else if ( localVariable57 == 8 )
    {
        FLD_MAP_PANEL_CHANGE( 157, 15, 0 );
        localVariable59 = 9;
    }

    int localVariable55 = FLD_SEL_EX( 1, 6, 0, localVariable56, 100 + localVariable59 );
    FLD_PANEL_MAP_PROC_SYNC( 0 );
}


void D_FastTravel_D07()
{
    int localVariable61 = 131071;
    int localVariable62 = GET_COUNT( 159 );
    int localVariable63 = FLD_GET_MINOR();
    localVariable61 = localVariable61 - 1;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2941 ) )
    {
        localVariable61 = localVariable61 - 4;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2943 ) )
    {
        localVariable61 = localVariable61 - 0x10;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2944 ) )
    {
        localVariable61 = localVariable61 - 0x20;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2945 ) )
    {
        localVariable61 = localVariable61 - 0x40;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2946 ) )
    {
        localVariable61 = localVariable61 - 0x80;
    }

    int localVariable64 = 0;
    
    if ( localVariable62 == 0 )
    {
        FLD_MAP_PANEL_CHANGE( 159, 1, 0 );
        localVariable64 = 0;
    }
    else if ( localVariable62 == 1 )
    {
        FLD_MAP_PANEL_CHANGE( 159, 3, 0 );
        localVariable64 = 2;
    }
    else if ( localVariable62 == 3 )
    {
        FLD_MAP_PANEL_CHANGE( 159, 10, 1 );
        localVariable64 = 4;
    }
    else if ( localVariable62 == 4 )
    {
        FLD_MAP_PANEL_CHANGE( 159, 7, 0 );
        localVariable64 = 5;
    }
    else if ( localVariable62 == 5 )
    {
        FLD_MAP_PANEL_CHANGE( 159, 6, 1 );
        localVariable64 = 6;
    }
    else if ( localVariable62 == 6 )
    {
        FLD_MAP_PANEL_CHANGE( 159, 11, 0 );
        localVariable64 = 7;
    }

    int localVariable60 = FLD_SEL_EX( 1, 7, 0, localVariable61, 100 + localVariable64 );
    FLD_PANEL_MAP_PROC_SYNC( 0 );
}


void D_FastTravel_D08()
{
    int localVariable66 = 131071;
    int localVariable67 = GET_COUNT( 159 );
    int localVariable68 = FLD_GET_MINOR();
    localVariable66 = localVariable66 - 1;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 3447 ) )
    {
        localVariable66 = localVariable66 - 4;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 3448 ) )
    {
        localVariable66 = localVariable66 - 8;
    }

    int localVariable69 = 0;
    
    if ( localVariable67 == 0 )
    {
        FLD_MAP_PANEL_CHANGE( 161, 1, 0 );
        localVariable69 = 0;
    }
    else if ( localVariable67 == 1 )
    {
        FLD_MAP_PANEL_CHANGE( 161, 6, 0 );
        localVariable69 = 2;
    }
    else if ( localVariable67 == 2 )
    {
        FLD_MAP_PANEL_CHANGE( 161, 10, 0 );
        localVariable69 = 3;
    }

    int localVariable65 = FLD_SEL_EX( 1, 8, 0, localVariable66, 100 + localVariable69 );
    FLD_PANEL_MAP_PROC_SYNC( 0 );
}


void D_FastTravel_LAST()
{
    int localVariable71 = 131071;
    int localVariable72 = GET_COUNT( 159 );
    int localVariable73 = FLD_GET_MAJOR();
    int localVariable74 = FLD_GET_MINOR();
    localVariable71 = localVariable71 - 0x20;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 3435 ) )
    {
        localVariable71 = localVariable71 - 0x40;
    }

    int localVariable75 = 0;
    
    if ( localVariable74 == 1 )
    {
        FLD_MAP_PANEL_CHANGE( 160, 1, 0 );
        localVariable75 = 5;
    }
    else if ( localVariable74 == 6 )
    {
        FLD_MAP_PANEL_CHANGE( 160, 6, 0 );
        localVariable75 = 6;
    }

    int localVariable70 = FLD_SEL_EX( 1, 8, 0, localVariable71, 100 + localVariable75 );
    FLD_PANEL_MAP_PROC_SYNC( 0 );
}


void D_FastTravel_AT_D()
{
    BIT_ON( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 0x0100 + 57 );
    AT_D_SHORTCUT_SYS();
    
    if ( variable13 > 0 )
    {
        int localVariable76 = FLD_SEL_EX( 4, 9, 0, variable13, 1 );
        FLD_PANEL_MAP_PROC_SYNC( 0 );
    }

}


void D01_ITEM_GET_CHECK()
{
    int localVariable77 = 0;
    
    if ( GET_ITEM_NUM( 0x4000 + 116 ) >= 1 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 319 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 319 );
        localVariable77 = FLD_SCRIPT_READ( 151, 10, 105 );
        FLD_SCRIPT_READ_SYNC( localVariable77 );
        FLD_SCRIPT_EXEC( localVariable77, 0 );
        FLD_SCRIPT_FREE( localVariable77 );
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 295 ) )
        {
            BIT_ON( 0 + 0x0800 + 0x0800 + 295 );
        }
        else if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 296 ) )
        {
            BIT_ON( 0 + 0x0800 + 0x0800 + 296 );
        }

    }
    else if ( GET_ITEM_NUM( 0x4000 + 117 ) >= 1 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 320 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 320 );
        localVariable77 = FLD_SCRIPT_READ( 151, 10, 105 );
        FLD_SCRIPT_READ_SYNC( localVariable77 );
        FLD_SCRIPT_EXEC( localVariable77, 0 );
        FLD_SCRIPT_FREE( localVariable77 );
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 295 ) )
        {
            BIT_ON( 0 + 0x0800 + 0x0800 + 295 );
        }
        else if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 296 ) )
        {
            BIT_ON( 0 + 0x0800 + 0x0800 + 296 );
        }

    }

}


void D04_ENEMY_CHECK()
{
}


void D06_ENEMY_CHECK()
{
    int localVariable78 = 0;
    
    if ( FLD_LOCAL_FLAG_CHK( 49152 + 63 ) )
    {
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 2294 ) )
        {
            
            if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 2251 ) )
            {
                localVariable78 = 5;
                FLD_SUMMON_ENEMY_MOVE( 0, localVariable78 );
                FLD_CLEAR_SUMMON_LIFE( 0, localVariable78 );
                localVariable78 = 6;
                FLD_SUMMON_ENEMY_MOVE( 0, localVariable78 );
                FLD_CLEAR_SUMMON_LIFE( 0, localVariable78 );
                FLD_SET_ENEMY_GLANCE( 0, 5, 1 );
                FLD_SET_ENEMY_GLANCE( 0, 6, 1 );
                FLD_SET_ENEMY_ORNAMENT( 0, 5, 1 );
                FLD_SET_ENEMY_ORNAMENT( 0, 6, 1 );
            }
            else 
            {
                localVariable78 = 14;
                FLD_SUMMON_ENEMY_MOVE( 0, localVariable78 );
                FLD_CLEAR_SUMMON_LIFE( 0, localVariable78 );
                localVariable78 = 15;
                FLD_SUMMON_ENEMY_MOVE( 0, localVariable78 );
                FLD_CLEAR_SUMMON_LIFE( 0, localVariable78 );
                FLD_SET_ENEMY_GLANCE( 0, 14, 0 );
                FLD_SET_ENEMY_GLANCE( 0, 15, 0 );
            }

        }

        
        if ( FLD_GET_ENEMY_RESHND( 0, 14 ) == 0 || FLD_GET_ENEMY_RESHND( 0, 15 ) == 0 )
        {
            BIT_ON( 0 + 0x0800 + 0x0800 + 2294 );
        }

    }

}


void dungeon_return_calendar()
{
    dungeon_return();
    CALL_CALENDAR();
}


void dungeon_return()
{
    FLD_SET_FIX_BGM( 0 );
    FLD_REQ_BGM();
    int localVariable80 = 0;
    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 76 ) )
    {
        FLD_SET_LOCAL_COUNT( 49152 + 1, 0 );
        MVP_CHOICE();
        int localVariable79 = FLD_GET_LOCAL_COUNT( 49152 + 1 );
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 0x0100 + 22 ) )
        {
            localVariable80 = 0;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 200 ) )
        {
            localVariable80 = 1;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 601 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) )
        {
            localVariable80 = 2;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1001 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) )
        {
            localVariable80 = 3;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1401 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1400 ) )
        {
            localVariable80 = 4;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1801 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1800 ) )
        {
            localVariable80 = 5;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2200 ) )
        {
            localVariable80 = 6;
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2701 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2700 ) )
        {
            localVariable80 = 7;
        }
        else 
        {
            localVariable80 = 0;
        }

        PUTS( "************************" );
        PUTS( "************************" );
        PUT( localVariable79 );
        PUTS( "------------------------" );
        PUT( localVariable80 );
        PUTS( "************************" );
        PUTS( "************************" );
        FLD_DUNGEON_RESULT( localVariable80, localVariable79 );
        FLD_DUNGEON_RESULT_SYNC();
    }

    result_counter_clear();
    BIT_OFF( 0 + 0x0800 + 0x0800 + 77 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 78 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 122 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 68 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 80 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 81 );
    SET_COUNT( 160, 0 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 82 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 83 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 84 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 85 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 99 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 93 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 120 );
    FLD_PANEL_COIN_SET_ENABLE( 0 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2685 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2686 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2687 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2688 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2689 );
    RECOVERY_ALL();
    RESET_INJECTION_EFFECT();
    BIT_OFF( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 0x0100 + 20 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 0x0100 + 22 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 0x0100 + 21 );
    FLD_RETRY_CLEAR();
    FLD_RETRY_BOSS_CLEAR();
    
    if ( BIT_CHK( 0 + 1087 ) )
    {
        int localVariable81 = GET_MONTH();
        int localVariable82 = GET_DAY();
        
        if ( CHK_DAYS( 4, 11 ) == 1 || CHK_DAYS( 4, 12 ) == 1 || CHK_DAYS( 4, 15 ) == 1 || CHK_DAYS( 4, 25 ) == 1 || CHK_DAYS( 5, 0x10 ) == 1 || CHK_DAYS( 6, 20 ) == 1 || CHK_DAYS( 7, 25 ) == 1 || CHK_DAYS( 8, 30 ) == 1 || CHK_DAYS( 9, 15 ) == 1 || CHK_DAYS( 9, 17 ) == 1 || CHK_DAYS( 10, 29 ) == 1 || CHK_DAYS( 11, 19 ) == 1 || CHK_DAYS( 11, 24 ) == 1 || CHK_DAYS( 12, 24 ) == 1 || BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) && !BIT_CHK( 0 + 1045 ) || BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) && !BIT_CHK( 0 + 1049 ) || BIT_CHK( 0 + 0x0800 + 0x0800 + 1800 ) && !BIT_CHK( 0 + 1057 ) || BIT_CHK( 0 + 0x0800 + 0x0800 + 2202 ) && CHAT_CHECK_ARRIVAL( 162 ) == 0 && CHAT_CHECK_ARRIVAL( 163 ) == 0 && CHAT_CHECK_ARRIVAL( 165 ) == 0 || BIT_CHK( 0 + 0x0800 + 0x0800 + 2700 ) && !BIT_CHK( 0 + 0x80 ) )
        {
            return;
        }
        else 
        {
            SET_NEXT_DAY( localVariable81, localVariable82, 6 );
        }

    }

}


void dungeon_exit_time_set()
{
    int localVariable83 = 0;
    int localVariable84 = 0;
    
    if ( BIT_CHK( 0 + 1087 ) )
    {
        localVariable83 = GET_MONTH();
        localVariable84 = GET_DAY();
        
        if ( CHK_DAYS( 4, 11 ) == 1 || CHK_DAYS( 4, 12 ) == 1 || CHK_DAYS( 4, 15 ) == 1 || CHK_DAYS( 4, 25 ) == 1 || CHK_DAYS( 5, 0x10 ) == 1 || CHK_DAYS( 6, 20 ) == 1 || CHK_DAYS( 7, 25 ) == 1 || CHK_DAYS( 8, 30 ) == 1 || CHK_DAYS( 9, 15 ) == 1 || CHK_DAYS( 9, 17 ) == 1 || CHK_DAYS( 10, 29 ) == 1 || CHK_DAYS( 11, 19 ) == 1 || CHK_DAYS( 11, 24 ) == 1 || CHK_DAYS( 12, 24 ) == 1 || BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) && !BIT_CHK( 0 + 1045 ) || BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) && !BIT_CHK( 0 + 1049 ) || BIT_CHK( 0 + 0x0800 + 0x0800 + 1800 ) && !BIT_CHK( 0 + 1057 ) || BIT_CHK( 0 + 0x0800 + 0x0800 + 2202 ) && CHAT_CHECK_ARRIVAL( 162 ) == 0 && CHAT_CHECK_ARRIVAL( 163 ) == 0 && CHAT_CHECK_ARRIVAL( 165 ) == 0 || BIT_CHK( 0 + 0x0800 + 0x0800 + 2700 ) && !BIT_CHK( 0 + 0x80 ) )
        {
            SET_NEXT_DAY( localVariable83, localVariable84, 5 );
        }
        else 
        {
            SET_NEXT_DAY( localVariable83, localVariable84, 6 );
        }

    }

}


void dungeon_start_format()
{
    RECOVERY_ALL();
    BIT_ON( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 0x0100 + 20 );
    int localVariable85 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 0x0100 + 22 ) )
    {
        localVariable85 = GET_COUNT( 139 );
        SET_COUNT( 154, localVariable85 );
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 200 ) )
    {
        localVariable85 = GET_COUNT( 145 );
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 601 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) )
    {
        localVariable85 = GET_COUNT( 146 );
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1001 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) )
    {
        localVariable85 = GET_COUNT( 147 );
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1401 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1400 ) )
    {
        localVariable85 = GET_COUNT( 148 );
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1801 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1800 ) )
    {
        localVariable85 = GET_COUNT( 149 );
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2200 ) )
    {
        localVariable85 = GET_COUNT( 150 );
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2701 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2700 ) )
    {
        localVariable85 = GET_COUNT( 151 );
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 3101 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 3100 ) )
    {
        localVariable85 = GET_COUNT( 152 );
    }

    SET_COUNT( 174, localVariable85 );
}


void DUNGEON_START_SAVE()
{
    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 99 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 99 );
        FLD_RETRY_SAVE();
    }

}


void result_counter_clear()
{
}


void MVP_CHOICE()
{
    int localVariable88 = GET_COUNT( 222 );
    int localVariable89 = GET_COUNT( 223 );
    int localVariable90 = GET_COUNT( 224 );
    int localVariable91 = GET_COUNT( 225 );
    int localVariable92 = GET_COUNT( 226 );
    int localVariable93 = GET_COUNT( 227 );
    int localVariable94 = GET_COUNT( 229 );
    int localVariable95 = GET_COUNT( 228 );
    int localVariable96 = GET_COUNT( 230 );
    int localVariable86 = 0;
    int localVariable87 = 0;
    int localVariable97 = GET_COUNT( 177 );
    
    if ( localVariable97 >= 5 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 54 ) && localVariable94 >= 10 )
        {
            localVariable86 = 7;
            SET_COUNT( 229, 0 );
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 48 ) && localVariable89 > 0 )
        {
            localVariable86 = 2;
            localVariable87 = localVariable89;
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 49 ) && localVariable90 > 0 && localVariable90 >= localVariable87 )
        {
            localVariable86 = 3;
            localVariable87 = localVariable90;
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 50 ) && localVariable91 > 0 && localVariable91 >= localVariable87 )
        {
            localVariable86 = 4;
            localVariable87 = localVariable91;
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 51 ) && localVariable92 > 0 && localVariable92 >= localVariable87 )
        {
            localVariable86 = 5;
            localVariable87 = localVariable92;
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 52 ) && localVariable93 > 0 && localVariable93 >= localVariable87 )
        {
            localVariable86 = 6;
            localVariable87 = localVariable93;
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 53 ) && localVariable95 > 0 && localVariable95 >= localVariable87 )
        {
            localVariable86 = 8;
            localVariable87 = localVariable95;
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 55 ) && localVariable96 > 0 && localVariable96 >= localVariable87 )
        {
            localVariable86 = 9;
            localVariable87 = localVariable96;
        }

        
        if ( localVariable87 == 0 )
        {
            localVariable86 = 1;
        }
        else if ( localVariable88 > localVariable87 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 79 ) )
        {
            localVariable86 = 1;
        }

        FLD_SET_LOCAL_COUNT( 49152 + 1, localVariable86 );
        
        if ( localVariable86 != 1 )
        {
            BIT_OFF( 0 + 0x0800 + 0x0800 + 79 );
        }

    }
    else 
    {
        FLD_SET_LOCAL_COUNT( 49152 + 1, 1 );
    }

}


void D01_SAFETY_GOTO()
{
    int localVariable98 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable98 );
    int localVariable99 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 124 ) )
    {
        localVariable99 = 1;
        BIT_ON( 0 + 0x0800 + 0x0800 + 2677 );
    }

    BIT_OFF( 0 + 0x0800 + 0x0800 + 124 );
    STAY_FLAG_CLEAR();
    
    if ( localVariable98 == 0 )
    {
        CALL_FIELD( 151, 1, 2, 0 );
    }
    else if ( localVariable98 == 11 )
    {
        
        if ( localVariable99 == 0 )
        {
            CALL_FIELD( 152, 1, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 152, 51, 21, 0 );
        }

    }
    else if ( localVariable98 == 1 )
    {
        
        if ( localVariable99 == 0 )
        {
            CALL_FIELD( 151, 14, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 151, 51, 11, 0 );
        }

    }
    else if ( localVariable98 == 2 )
    {
        
        if ( localVariable99 == 0 )
        {
            CALL_FIELD( 151, 2, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 151, 51, 12, 0 );
        }

    }
    else if ( localVariable98 == 3 )
    {
        
        if ( localVariable99 == 0 )
        {
            CALL_FIELD( 151, 4, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 151, 51, 13, 0 );
        }

    }
    else if ( localVariable98 == 4 )
    {
        
        if ( localVariable99 == 0 )
        {
            CALL_FIELD( 151, 5, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 151, 51, 14, 0 );
        }

    }
    else if ( localVariable98 == 21 )
    {
        
        if ( localVariable99 == 0 )
        {
            CALL_FIELD( 151, 7, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 151, 51, 31, 0 );
        }

    }
    else if ( localVariable98 == 22 )
    {
        
        if ( localVariable99 == 0 )
        {
            CALL_FIELD( 151, 11, 1, 0 );
        }
        else 
        {
            CALL_FIELD( 151, 51, 0x20, 0 );
        }

    }

}


void D02_SAFETY_GOTO()
{
    int localVariable100 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable100 );
    int localVariable101 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 124 ) )
    {
        localVariable101 = 1;
        BIT_ON( 0 + 0x0800 + 0x0800 + 2677 );
    }

    BIT_OFF( 0 + 0x0800 + 0x0800 + 124 );
    STAY_FLAG_CLEAR();
    
    if ( localVariable100 == 0 )
    {
        CALL_FIELD( 153, 1, 2, 0 );
    }
    else if ( localVariable100 == 2 )
    {
        
        if ( localVariable101 == 0 )
        {
            CALL_FIELD( 153, 12, 2, 0 );
        }
        else 
        {
            CALL_FIELD( 153, 51, 12, 0 );
        }

    }
    else if ( localVariable100 == 3 )
    {
        
        if ( localVariable101 == 0 )
        {
            CALL_FIELD( 153, 3, 4, 0 );
        }
        else 
        {
            CALL_FIELD( 153, 51, 13, 0 );
        }

    }
    else if ( localVariable100 == 5 )
    {
        
        if ( localVariable101 == 0 )
        {
            CALL_FIELD( 153, 5, 4, 0 );
        }
        else 
        {
            CALL_FIELD( 153, 51, 15, 0 );
        }

    }
    else if ( localVariable100 == 6 )
    {
        
        if ( localVariable101 == 0 )
        {
            CALL_FIELD( 153, 6, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 153, 51, 0x10, 0 );
        }

    }
    else if ( localVariable100 == 7 )
    {
        
        if ( localVariable101 == 0 )
        {
            CALL_FIELD( 153, 7, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 153, 51, 17, 0 );
        }

    }
    else if ( localVariable100 == 8 )
    {
        
        if ( localVariable101 == 0 )
        {
            CALL_FIELD( 153, 9, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 153, 51, 18, 0 );
        }

    }
    else if ( localVariable100 == 9 )
    {
        
        if ( localVariable101 == 0 )
        {
            CALL_FIELD( 153, 9, 21, 0 );
        }
        else 
        {
            CALL_FIELD( 153, 51, 19, 0 );
        }

    }

}


void D03_SAFETY_GOTO()
{
    int localVariable102 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable102 );
    int localVariable103 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 124 ) )
    {
        localVariable103 = 1;
        BIT_ON( 0 + 0x0800 + 0x0800 + 2677 );
    }

    BIT_OFF( 0 + 0x0800 + 0x0800 + 124 );
    STAY_FLAG_CLEAR();
    
    if ( localVariable102 == 0 )
    {
        CALL_FIELD( 154, 1, 2, 0 );
    }
    else if ( localVariable102 == 1 )
    {
        
        if ( localVariable103 == 0 )
        {
            CALL_FIELD( 154, 2, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 154, 51, 11, 0 );
        }

    }
    else if ( localVariable102 == 2 )
    {
        
        if ( localVariable103 == 0 )
        {
            CALL_FIELD( 154, 2, 11, 0 );
        }
        else 
        {
            CALL_FIELD( 154, 51, 12, 0 );
        }

    }
    else if ( localVariable102 == 3 )
    {
        
        if ( localVariable103 == 0 )
        {
            CALL_FIELD( 154, 3, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 154, 51, 13, 0 );
        }

    }
    else if ( localVariable102 == 4 )
    {
        
        if ( localVariable103 == 0 )
        {
            CALL_FIELD( 154, 3, 11, 0 );
        }
        else 
        {
            CALL_FIELD( 154, 51, 14, 0 );
        }

    }
    else if ( localVariable102 == 5 )
    {
        
        if ( localVariable103 == 0 )
        {
            CALL_FIELD( 154, 12, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 154, 51, 15, 0 );
        }

    }
    else if ( localVariable102 == 6 )
    {
        
        if ( localVariable103 == 0 )
        {
            CALL_FIELD( 154, 14, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 154, 51, 0x10, 0 );
        }

    }
    else if ( localVariable102 == 7 )
    {
        
        if ( localVariable103 == 0 )
        {
            CALL_FIELD( 154, 5, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 154, 51, 17, 0 );
        }

    }

}


void D04_SAFETY_GOTO()
{
    int localVariable104 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable104 );
    int localVariable105 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 124 ) )
    {
        localVariable105 = 1;
        BIT_ON( 0 + 0x0800 + 0x0800 + 2677 );
    }

    BIT_OFF( 0 + 0x0800 + 0x0800 + 124 );
    STAY_FLAG_CLEAR();
    
    if ( localVariable104 == 0 )
    {
        
        if ( FLD_GET_MINOR() == 13 )
        {
            CALL_FIELD( 155, 1, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 155, 1, 5, 0 );
        }

    }
    else if ( localVariable104 == 1 )
    {
        
        if ( localVariable105 == 0 )
        {
            CALL_FIELD( 155, 11, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 155, 51, 11, 0 );
        }

    }
    else if ( localVariable104 == 2 )
    {
        
        if ( localVariable105 == 0 )
        {
            CALL_FIELD( 155, 2, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 155, 51, 12, 0 );
        }

    }
    else if ( localVariable104 == 3 )
    {
        
        if ( localVariable105 == 0 )
        {
            CALL_FIELD( 155, 2, 21, 0 );
        }
        else 
        {
            CALL_FIELD( 155, 51, 13, 0 );
        }

    }
    else if ( localVariable104 == 4 )
    {
        
        if ( localVariable105 == 0 )
        {
            CALL_FIELD( 155, 2, 22, 0 );
        }
        else 
        {
            CALL_FIELD( 155, 51, 14, 0 );
        }

    }
    else if ( localVariable104 == 5 )
    {
        
        if ( localVariable105 == 0 )
        {
            CALL_FIELD( 155, 4, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 155, 51, 15, 0 );
        }

    }

}


void D05_SAFETY_GOTO()
{
    int localVariable106 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable106 );
    int localVariable107 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 124 ) )
    {
        localVariable107 = 1;
        BIT_ON( 0 + 0x0800 + 0x0800 + 2677 );
    }

    BIT_OFF( 0 + 0x0800 + 0x0800 + 124 );
    STAY_FLAG_CLEAR();
    
    if ( localVariable106 == 0 )
    {
        CALL_FIELD( 156, 1, 5, 0 );
    }
    else if ( localVariable106 == 1 )
    {
        
        if ( localVariable107 == 0 )
        {
            CALL_FIELD( 156, 3, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 156, 51, 11, 0 );
        }

    }
    else if ( localVariable106 == 2 )
    {
        
        if ( localVariable107 == 0 )
        {
            CALL_FIELD( 156, 13, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 156, 51, 12, 0 );
        }

    }
    else if ( localVariable106 == 3 )
    {
        
        if ( localVariable107 == 0 )
        {
            CALL_FIELD( 156, 4, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 156, 51, 13, 0 );
        }

    }
    else if ( localVariable106 == 4 )
    {
        
        if ( localVariable107 == 0 )
        {
            CALL_FIELD( 156, 7, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 156, 51, 14, 0 );
        }

    }
    else if ( localVariable106 == 5 )
    {
        
        if ( localVariable107 == 0 )
        {
            CALL_FIELD( 156, 9, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 156, 51, 15, 0 );
        }

    }
    else if ( localVariable106 == 6 )
    {
        
        if ( localVariable107 == 0 )
        {
            CALL_FIELD( 156, 12, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 156, 51, 0x10, 0 );
        }

    }
    else if ( localVariable106 == 7 )
    {
        
        if ( localVariable107 == 0 )
        {
            CALL_FIELD( 156, 6, 50, 0 );
        }
        else 
        {
            CALL_FIELD( 156, 51, 17, 0 );
        }

    }
    else if ( localVariable106 == 8 )
    {
        
        if ( localVariable107 == 0 )
        {
            CALL_FIELD( 156, 10, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 156, 51, 18, 0 );
        }

    }

}


void D06_SAFETY_GOTO()
{
    int localVariable108 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable108 );
    int localVariable109 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 124 ) )
    {
        localVariable109 = 1;
        BIT_ON( 0 + 0x0800 + 0x0800 + 2677 );
    }

    BIT_OFF( 0 + 0x0800 + 0x0800 + 124 );
    STAY_FLAG_CLEAR();
    
    if ( localVariable108 == 0 )
    {
        CALL_FIELD( 157, 1, 2, 0 );
    }
    else if ( localVariable108 == 1 )
    {
        
        if ( localVariable109 == 0 )
        {
            CALL_FIELD( 157, 4, 4, 0 );
        }
        else 
        {
            CALL_FIELD( 157, 51, 11, 0 );
        }

    }
    else if ( localVariable108 == 2 )
    {
        
        if ( localVariable109 == 0 )
        {
            CALL_FIELD( 157, 5, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 157, 52, 12, 0 );
        }

    }
    else if ( localVariable108 == 3 )
    {
        
        if ( localVariable109 == 0 )
        {
            CALL_FIELD( 157, 6, 3, 0 );
        }
        else 
        {
            CALL_FIELD( 157, 51, 13, 0 );
        }

    }
    else if ( localVariable108 == 4 )
    {
        
        if ( localVariable109 == 0 )
        {
            CALL_FIELD( 157, 8, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 157, 52, 14, 0 );
        }

    }
    else if ( localVariable108 == 5 )
    {
        
        if ( localVariable109 == 0 )
        {
            CALL_FIELD( 157, 11, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 157, 51, 15, 0 );
        }

    }
    else if ( localVariable108 == 6 )
    {
        
        if ( localVariable109 == 0 )
        {
            CALL_FIELD( 157, 12, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 157, 51, 0x10, 0 );
        }

    }
    else if ( localVariable108 == 7 )
    {
        
        if ( localVariable109 == 0 )
        {
            CALL_FIELD( 157, 13, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 157, 51, 17, 0 );
        }

    }
    else if ( localVariable108 == 8 )
    {
        
        if ( localVariable109 == 0 )
        {
            CALL_FIELD( 157, 15, 10, 0 );
        }
        else 
        {
            CALL_FIELD( 157, 51, 18, 0 );
        }

    }

}


void D07_SAFETY_GOTO()
{
    int localVariable110 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable110 );
    int localVariable111 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 124 ) )
    {
        localVariable111 = 1;
        BIT_ON( 0 + 0x0800 + 0x0800 + 2677 );
    }

    BIT_OFF( 0 + 0x0800 + 0x0800 + 124 );
    STAY_FLAG_CLEAR();
    
    if ( localVariable110 == 0 )
    {
        CALL_FIELD( 159, 1, 2, 0 );
    }
    else if ( localVariable110 == 1 )
    {
        
        if ( localVariable111 == 0 )
        {
            CALL_FIELD( 159, 4, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 159, 51, 11, 0 );
        }

    }
    else if ( localVariable110 == 3 )
    {
        
        if ( localVariable111 == 0 )
        {
            CALL_FIELD( 159, 10, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 159, 51, 13, 0 );
        }

    }
    else if ( localVariable110 == 4 )
    {
        
        if ( localVariable111 == 0 )
        {
            CALL_FIELD( 159, 7, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 159, 51, 14, 0 );
        }

    }
    else if ( localVariable110 == 5 )
    {
        
        if ( localVariable111 == 0 )
        {
            CALL_FIELD( 159, 6, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 159, 51, 15, 0 );
        }

    }
    else if ( localVariable110 == 6 )
    {
        
        if ( localVariable111 == 0 )
        {
            CALL_FIELD( 159, 11, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 159, 51, 0x10, 0 );
        }

    }

}


void D08_SAFETY_GOTO()
{
    int localVariable112 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable112 );
    int localVariable113 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 124 ) )
    {
        localVariable113 = 1;
        BIT_ON( 0 + 0x0800 + 0x0800 + 2677 );
    }

    BIT_OFF( 0 + 0x0800 + 0x0800 + 124 );
    STAY_FLAG_CLEAR();
    
    if ( localVariable112 == 0 )
    {
        CALL_FIELD( 161, 1, 0, 0 );
    }
    else if ( localVariable112 == 1 )
    {
        
        if ( localVariable113 == 0 )
        {
            CALL_FIELD( 161, 6, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 161, 51, 11, 0 );
        }

    }
    else if ( localVariable112 == 2 )
    {
        
        if ( localVariable113 == 0 )
        {
            CALL_FIELD( 161, 10, 20, 0 );
        }
        else 
        {
            CALL_FIELD( 161, 51, 12, 0 );
        }

    }

}


void LAST_SAFETY_GOTO()
{
    int localVariable114 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable114 );
    int localVariable115 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 124 ) )
    {
        localVariable115 = 1;
        BIT_ON( 0 + 0x0800 + 0x0800 + 2677 );
    }

    BIT_OFF( 0 + 0x0800 + 0x0800 + 124 );
    STAY_FLAG_CLEAR();
    
    if ( localVariable114 == 10 )
    {
        CALL_FIELD( 160, 1, 0, 0 );
    }
    else if ( localVariable114 == 11 )
    {
        
        if ( localVariable115 == 0 )
        {
            CALL_FIELD( 160, 6, 0, 0 );
        }
        else 
        {
            CALL_FIELD( 160, 6, 0, 0 );
        }

    }

}


void MEME_SAFETY_GOTO()
{
    int localVariable116 = GET_COUNT( 159 );
    SET_COUNT( 157, localVariable116 );
    STAY_FLAG_CLEAR();
    BIT_OFF( 0 + 0x0800 + 0x0800 + 14 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 15 );
    
    if ( localVariable116 == 11 )
    {
        CALL_AT_DUNGEON( 1, 3, 4 );
    }
    else if ( localVariable116 == 12 )
    {
        CALL_AT_DUNGEON( 2, 3, 4 );
    }
    else if ( localVariable116 == 13 )
    {
        CALL_AT_DUNGEON( 2, 7, 4 );
    }
    else if ( localVariable116 == 14 )
    {
        CALL_AT_DUNGEON( 3, 5, 4 );
    }
    else if ( localVariable116 == 15 )
    {
        CALL_AT_DUNGEON( 3, 9, 4 );
    }
    else if ( localVariable116 == 0x10 )
    {
        CALL_AT_DUNGEON( 4, 4, 4 );
    }
    else if ( localVariable116 == 17 )
    {
        CALL_AT_DUNGEON( 4, 8, 4 );
    }
    else if ( localVariable116 == 18 )
    {
        CALL_AT_DUNGEON( 4, 11, 4 );
    }
    else if ( localVariable116 == 19 )
    {
        CALL_AT_DUNGEON( 5, 5, 4 );
    }
    else if ( localVariable116 == 20 )
    {
        CALL_AT_DUNGEON( 5, 10, 4 );
    }
    else if ( localVariable116 == 21 )
    {
        CALL_AT_DUNGEON( 5, 14, 4 );
    }
    else if ( localVariable116 == 22 )
    {
        CALL_AT_DUNGEON( 6, 3, 4 );
    }
    else if ( localVariable116 == 23 )
    {
        CALL_AT_DUNGEON( 6, 9, 4 );
    }
    else if ( localVariable116 == 24 )
    {
        CALL_AT_DUNGEON( 6, 12, 4 );
    }
    else if ( localVariable116 == 25 )
    {
        CALL_AT_DUNGEON( 7, 4, 4 );
    }
    else if ( localVariable116 == 26 )
    {
        CALL_AT_DUNGEON( 7, 8, 4 );
    }
    else if ( localVariable116 == 27 )
    {
        CALL_AT_DUNGEON( 7, 13, 4 );
    }

}


void STAY_FLAG_CLEAR()
{
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2650 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2651 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2652 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2653 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2654 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2655 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2656 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2657 );
    BIT_OFF( 0 + 0x0800 + 0x0800 + 2658 );
}


void ENTRANCE_FLAG_SET()
{
    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 48 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 179 );
    }
    else 
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 179 );
    }

    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 49 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 180 );
    }
    else 
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 180 );
    }

    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 50 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 181 );
    }
    else 
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 181 );
    }

    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 51 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 182 );
    }
    else 
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 182 );
    }

    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 52 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 183 );
    }
    else 
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 183 );
    }

    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 53 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 184 );
    }
    else 
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 184 );
    }

    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 54 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 185 );
    }
    else 
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 185 );
    }

    
    if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 55 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 186 );
    }
    else 
    {
        BIT_OFF( 0 + 0x0800 + 0x0800 + 186 );
    }

}


void ENTRANCE_NPC_GET_ID()
{
    FLD_NPC_SYNC();
    variable120 = FLD_NPCID_SEARCH_RESHND2( 299, 702 );
    variable121 = FLD_NPCID_SEARCH_RESHND2( 399, 703 );
    variable122 = FLD_NPCID_SEARCH_RESHND2( 499, 704 );
    variable123 = FLD_NPCID_SEARCH_RESHND2( 599, 705 );
    variable124 = FLD_NPCID_SEARCH_RESHND2( 699, 706 );
    variable125 = FLD_NPCID_SEARCH_RESHND2( 799, 707 );
    variable126 = FLD_NPCID_SEARCH_RESHND2( 899, 708 );
    variable127 = FLD_NPCID_SEARCH_RESHND2( 999, 709 );
    PUTS( "************************" );
    PUTS( "************************" );
    int localVariable119 = 0;
    
    if ( localVariable119 == -1 )
    {
        PUTS( "PC01:NG" );
    }
    else 
    {
        PUTS( "PC01:OK" );
    }

    
    if ( variable120 == -1 )
    {
        PUTS( "PC02:NG" );
    }
    else 
    {
        PUTS( "PC02:OK" );
    }

    
    if ( variable121 == -1 )
    {
        PUTS( "PC03:NG" );
    }
    else 
    {
        PUTS( "PC03:OK" );
    }

    
    if ( variable122 == -1 )
    {
        PUTS( "PC04:NG" );
    }
    else 
    {
        PUTS( "PC04:OK" );
    }

    
    if ( variable123 == -1 )
    {
        PUTS( "PC05:NG" );
    }
    else 
    {
        PUTS( "PC05:OK" );
    }

    
    if ( variable124 == -1 )
    {
        PUTS( "PC06:NG" );
    }
    else 
    {
        PUTS( "PC06:OK" );
    }

    
    if ( variable125 == -1 )
    {
        PUTS( "PC07:NG" );
    }
    else 
    {
        PUTS( "PC07:OK" );
    }

    
    if ( variable126 == -1 )
    {
        PUTS( "PC08:NG" );
    }
    else 
    {
        PUTS( "PC08:OK" );
    }

    
    if ( variable127 == -1 )
    {
        PUTS( "PC09:NG" );
    }
    else 
    {
        PUTS( "PC09:OK" );
    }

    PUTS( "************************" );
    PUTS( "************************" );
}


void ENTRANCE_NPC_GET_OFF()
{
    
    if ( variable120 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable120, 0, 0 );
    }

    
    if ( variable121 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable121, 0, 0 );
    }

    
    if ( variable122 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable122, 0, 0 );
    }

    
    if ( variable123 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable123, 0, 0 );
    }

    
    if ( variable124 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable124, 0, 0 );
    }

    
    if ( variable125 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable125, 0, 0 );
    }

    
    if ( variable126 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable126, 0, 0 );
    }

    
    if ( variable127 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable127, 0, 0 );
    }

}


void ENTRANCE_NPC_GET_ON()
{
    
    if ( variable120 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable120, 1, 10 );
    }

    
    if ( variable121 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable121, 1, 10 );
    }

    
    if ( variable122 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable122, 1, 10 );
    }

    
    if ( variable123 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable123, 1, 10 );
    }

    
    if ( variable124 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable124, 1, 10 );
    }

    
    if ( variable125 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable125, 1, 10 );
    }

    
    if ( variable126 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable126, 1, 10 );
    }

    
    if ( variable127 >= 0 )
    {
        FLD_MODEL_SET_VISIBLE( variable127, 1, 10 );
    }

}


void DUNGEON_ENTRANCE_NPC_OFF()
{
    int localVariable128 = 1;
    FLD_NPC_UNDISP( 702, localVariable128 );
    FLD_NPC_UNDISP( 703, localVariable128 );
    FLD_NPC_UNDISP( 704, localVariable128 );
    FLD_NPC_UNDISP( 705, localVariable128 );
    FLD_NPC_UNDISP( 706, localVariable128 );
    FLD_NPC_UNDISP( 707, localVariable128 );
    FLD_NPC_UNDISP( 708, localVariable128 );
    FLD_NPC_UNDISP( 709, localVariable128 );
}


void DUNGEON_ENTRANCE_NPC_ON()
{
    int localVariable129 = 0;
    FLD_NPC_UNDISP( 702, localVariable129 );
    FLD_NPC_UNDISP( 703, localVariable129 );
    FLD_NPC_UNDISP( 704, localVariable129 );
    FLD_NPC_UNDISP( 705, localVariable129 );
    FLD_NPC_UNDISP( 706, localVariable129 );
    FLD_NPC_UNDISP( 707, localVariable129 );
    FLD_NPC_UNDISP( 708, localVariable129 );
    FLD_NPC_UNDISP( 709, localVariable129 );
}


void DUNGEON_START_CHECK()
{
    _716:
    int localVariable130 = 0;
    int localVariable131 = 0;
    
    if ( 1 )
    {
        int localVariable132 = 0;
        SEL_MASK( localVariable132 );
        SEL_DEFKEY( 14, 2 );
        localVariable130 = SEL( START_CHECK_SEL );
        MSG_WND_CLS();
        
        if ( localVariable130 == 0 )
        {
            localVariable131 = GET_COUNT( 157 );
            SET_COUNT( 159, localVariable131 );
            goto _717;
        }
        else if ( localVariable130 == 1 )
        {
            PALACE_IN_CHECK_OK_MES_SET();
            SET_COUNT( 159, 0 );
            goto _717;
        }
        else if ( localVariable130 == 2 )
        {
            PALACE_IN_CHECK_NG_MES_SET();
            SET_COUNT( 159, -1 );
            goto _717;
        }

        goto _716;
    }

    _717:
}


void PALACE_IN_CHECK_MES_SET()
{
    MSG_WND_DSP();
    MSG( START_CHECK_MES, 0 );
}


void PALACE_IN_CHECK_OK_MES_SET()
{
}


void PALACE_IN_CHECK_NG_MES_SET()
{
}


void DUNGEON_EXIT_CHECK()
{
    int localVariable138 = FLD_GET_MAJOR();
    int localVariable139 = FLD_GET_MINOR();
    int localVariable140 = FLD_PC_GET_RESHND( 0 );
    int localVariable141 = FLD_MODEL_CLONE_ADDMOTION( localVariable140, 54 );
    MDL_ANIM( localVariable141, 60 + 0, 0, 0, 1f );
    MDL_ANIM_NEXT( localVariable141, 60 + 1, 1, 0, 1f );
    int localVariable142 = FLD_ITEM_MODEL_LOAD( 39, 1 );
    FLD_MODEL_LOADSYNC( localVariable142 );
    FLD_MODEL_SET_VISIBLE( localVariable142, 1, 0 );
    FLD_MODEL_ATTACH_TRANSLATE( localVariable142, localVariable141, 101 );
    FLD_MODEL_ATTACH_ROTATE( localVariable142, localVariable141, 101 );
    FADEIN( 0, 10 );
    variable117 = FLD_CHOICE_REPORTER();
    int localVariable135 = 0;
    int localVariable143 = 0;
    
    if ( localVariable138 == 151 )
    {
        localVariable135 = D01_EXIT_MES;
    }
    else if ( localVariable138 == 153 )
    {
        localVariable135 = D02_EXIT_MES;
    }
    else if ( localVariable138 == 154 )
    {
        localVariable135 = D03_EXIT_MES;
    }
    else if ( localVariable138 == 155 )
    {
        localVariable135 = D04_EXIT_MES;
    }
    else if ( localVariable138 == 156 )
    {
        localVariable135 = D05_EXIT_MES;
    }
    else if ( localVariable138 == 157 )
    {
        localVariable135 = D06_EXIT_MES;
    }
    else if ( localVariable138 == 159 )
    {
        localVariable135 = D07_EXIT_MES;
    }
    else if ( localVariable138 == 190 )
    {
        localVariable135 = D08_EXIT_MES;
    }
    else 
    {
        localVariable135 = D01_EXIT_MES;
    }

    EXIT_MAIN_MES_SET();
    int localVariable137 = 0;
    localVariable137 = 1;
    int localVariable136 = DUNGEON_EXIT_SEL;
    MSG_WND_DSP();
    MSG( variable118, 0 );
    SEL_DEFKEY( 14, 2 );
    SEL_MASK( localVariable137 );
    int localVariable134 = SEL( localVariable136 );
    MSG_WND_CLS();
    
    if ( localVariable134 == 0 )
    {
        EX_MODE();
        FLD_REQ_SCN_CHANGE( 1 );
        
        if ( localVariable142 > 0 )
        {
            FLD_MODEL_DETACH_TRANSLATE( localVariable142 );
            FLD_MODEL_DETACH_ROTATE( localVariable142 );
            FLD_MODEL_FREE( localVariable142 );
        }

        MDL_ANIM( localVariable141, 58, 1, 5, 1f );
        FLD_MODEL_REVERT_ADDMOTION( localVariable140, localVariable141 );
    }
    else if ( localVariable134 == 1 )
    {
        variable133 = 0;
        EX_MES_CHECK();
        
        if ( variable133 == 0 )
        {
            MSG_WND_DSP();
            MSG( localVariable135, 0 );
            MSG_WND_CLS();
        }

        localVariable143 = 0;
        
        if ( localVariable138 == 159 && GET_COUNT( 151 ) < 20000 )
        {
            localVariable143 = 1;
        }

        PUTS( "===============================" );
        PUTS( "*******************************" );
        PUT( localVariable143 );
        PUTS( "*******************************" );
        PUTS( "===============================" );
        
        if ( localVariable143 == 1 )
        {
            FADEOUT( 25, 10 );
            FADE_SYNC();
        }
        else 
        {
            FADEOUT( 0, 10 );
            FADE_SYNC();
        }

        FLD_LOCAL_FLAG_ON( 49152 + 48 );
        
        if ( localVariable142 > 0 )
        {
            FLD_MODEL_DETACH_TRANSLATE( localVariable142 );
            FLD_MODEL_DETACH_ROTATE( localVariable142 );
            FLD_MODEL_FREE( localVariable142 );
        }

        FLD_MODEL_ANIM( localVariable141, 58, 1, 5, 1f );
        FLD_MODEL_REVERT_ADDMOTION( localVariable140, localVariable141 );
    }
    else if ( localVariable134 == 2 )
    {
        EXIT_CANCEL_MES_SET();
        MSG_WND_DSP();
        MSG( variable118, 0 );
        MSG_WND_CLS();
        FLD_MODEL_ANIM( localVariable141, 60 + 2, 0, 3, 1f );
        WAIT( 10 );
        FADEOUT( 0, 10 );
        FLD_MODEL_ANIM_SYNC( localVariable141 );
        MDL_ANIM( localVariable141, 58, 1, 5, 1f );
        FLD_MODEL_REVERT_ADDMOTION( localVariable140, localVariable141 );
        FADE_SYNC();
        
        if ( localVariable142 > 0 )
        {
            FLD_MODEL_DETACH_TRANSLATE( localVariable142 );
            FLD_MODEL_DETACH_ROTATE( localVariable142 );
            FLD_MODEL_FREE( localVariable142 );
        }

        return;
    }

}


void DUNGEON_EXIT_CHECK_SC()
{
    int localVariable148 = FLD_GET_MAJOR();
    int localVariable149 = FLD_GET_MINOR();
    variable117 = FLD_CHOICE_REPORTER();
    int localVariable150 = 0;
    
    if ( localVariable149 != 1 )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 78 );
    }

    int localVariable144 = 0;
    
    if ( localVariable148 == 159 && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2705 ) )
    {
        D07_DUNGEON_EXIT_SC();
        return;
    }
    else 
    {
        EXIT_MAIN_MES_SET();
        int localVariable147 = 1;
        int localVariable146 = 10;
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 4 ) )
        {
            WAIT( 15 );
            FLD_SMP_EVENT_BEGIN( 0 );
        }

        MSG_WND_DSP();
        MSG( variable118, 0 );
        SEL_DEFKEY( 14, 2 );
        SEL_MASK( localVariable147 );
        localVariable144 = SEL( localVariable146 );
        MSG_WND_CLS();
        
        if ( localVariable144 == 1 )
        {
            variable133 = 0;
            EX_MES_CHECK();
            
            if ( variable133 == 0 )
            {
                EXIT_OK_MES_SET();
                MSG_WND_DSP();
                MSG( variable118, 0 );
                MSG_WND_CLS();
            }

            localVariable150 = 0;
            
            if ( localVariable148 == 159 && GET_COUNT( 151 ) < 20000 )
            {
                localVariable150 = 1;
            }

            PUTS( "===============================" );
            PUTS( "*******************************" );
            PUT( localVariable150 );
            PUTS( "*******************************" );
            PUTS( "===============================" );
            
            if ( localVariable150 == 1 )
            {
                FADEOUT( 25, 10 );
                FADE_SYNC();
            }
            else 
            {
                FADEOUT( 0, 10 );
                FADE_SYNC();
            }

            FLD_LOCAL_FLAG_ON( 49152 + 48 );
            
            if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 4 ) )
            {
                BIT_ON( 0 + 0x0800 + 0x0800 + 160 );
            }

        }
        else if ( localVariable144 == 2 )
        {
            EXIT_CANCEL_MES_SET();
            MSG_WND_DSP();
            MSG( variable118, 0 );
            MSG_WND_CLS();
        }

        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 4 ) )
        {
            FLD_SMP_EVENT_END( 0 );
        }

    }

}


void EX_MODE()
{
    FLD_LOCAL_FLAG_ON( 49152 + 0x10 );
}


void D07_DUNGEON_EXIT_SC()
{
    WAIT( 15 );
    FLD_SMP_EVENT_BEGIN( 0 );
    MSG_WND_DSP();
    MSG( D07_DUNGEON_EXIT_SC_mes0, 0 );
    MSG_WND_CLS();
    FLD_SMP_EVENT_END( 0 );
}


void DUNGEON_EXIT_NG_ACTIVE()
{
    int localVariable153 = FLD_CHOICE_REPORTER();
    int localVariable151 = 0;
    int localVariable152 = 0;
    
    if ( localVariable153 == 0 )
    {
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 54 ) )
        {
            localVariable153 = 3;
        }
        else 
        {
            localVariable153 = 8;
        }

    }

    
    if ( localVariable151 == 0 )
    {
        
        if ( localVariable153 == 2 )
        {
            localVariable152 = D_EXIT_NG_ACTIVE_01_PC02;
        }
        else if ( localVariable153 == 3 )
        {
            localVariable152 = D_EXIT_NG_ACTIVE_01_PC03;
        }
        else if ( localVariable153 == 4 )
        {
            localVariable152 = D_EXIT_NG_ACTIVE_01_PC04;
        }
        else if ( localVariable153 == 5 )
        {
            localVariable152 = D_EXIT_NG_ACTIVE_01_PC05;
        }
        else if ( localVariable153 == 6 )
        {
            localVariable152 = D_EXIT_NG_ACTIVE_01_PC06;
        }
        else if ( localVariable153 == 8 )
        {
            localVariable152 = D_EXIT_NG_ACTIVE_01_PC07;
        }
        else if ( localVariable153 == 7 )
        {
            localVariable152 = D_EXIT_NG_ACTIVE_01_PC08;
        }
        else if ( localVariable153 == 9 )
        {
            localVariable152 = D_EXIT_NG_ACTIVE_01_PC09;
        }

    }

    PUTS( "*************************" );
    PUTS( "*************************" );
    PUT( localVariable153 );
    PUTS( "*************************" );
    PUTS( "*************************" );
    MSG_WND_DSP();
    MSG( localVariable152, 0 );
    MSG_WND_CLS();
}


void SUB_CHARACTER_CHOICE()
{
    variable117 = FLD_CHOICE_REPORTER();
}


void PARTY_LOOK_PLAYER()
{
    int localVariable157 = FLD_PC_GET_RESHND( 0 );
    float localFloatVariable0 = FLD_MODEL_GET_X_TRANSLATE( localVariable157 );
    float localFloatVariable1 = FLD_MODEL_GET_Y_TRANSLATE( localVariable157 );
    float localFloatVariable2 = FLD_MODEL_GET_Z_TRANSLATE( localVariable157 );
    int localVariable154 = FLD_PC_GET_RESHND( 1 );
    int localVariable155 = FLD_PC_GET_RESHND( 2 );
    int localVariable156 = FLD_PC_GET_RESHND( 3 );
    
    if ( localVariable154 > 0 )
    {
        FLD_MODEL_POINT_ROTATE( localVariable154, localFloatVariable0, localFloatVariable1, localFloatVariable2, 0 );
    }

    
    if ( localVariable155 > 0 )
    {
        FLD_MODEL_POINT_ROTATE( localVariable155, localFloatVariable0, localFloatVariable1, localFloatVariable2, 0 );
    }

    
    if ( localVariable156 > 0 )
    {
        FLD_MODEL_POINT_ROTATE( localVariable156, localFloatVariable0, localFloatVariable1, localFloatVariable2, 0 );
    }

}


void EXIT_MAIN_MES_SET()
{
    int localVariable158 = FLD_GET_MAJOR();
    int localVariable159 = FLD_GET_MINOR();
    
    if ( localVariable158 == 190 && localVariable159 == 1 )
    {
        
        if ( variable117 == 2 )
        {
            variable118 = 30;
        }
        else if ( variable117 == 3 )
        {
            variable118 = 31;
        }
        else if ( variable117 == 4 )
        {
            variable118 = 0x20;
        }
        else if ( variable117 == 5 )
        {
            variable118 = 33;
        }
        else if ( variable117 == 6 )
        {
            variable118 = 34;
        }
        else if ( variable117 == 8 )
        {
            variable118 = 35;
        }
        else if ( variable117 == 7 )
        {
            variable118 = 36;
        }
        else if ( variable117 == 9 )
        {
            variable118 = 37;
        }
        else 
        {
            variable118 = 31;
        }

        return;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 607 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 608 ) && GET_COUNT( 146 ) < 29000 )
    {
        variable118 = 74;
        return;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1402 ) && BIT_CHK( 0 + 0x0800 + 0x0800 + 1403 ) && GET_COUNT( 146 ) < 22000 )
    {
        variable118 = 78;
        return;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2202 ) && GET_COUNT( 150 ) < 50000 )
    {
        variable118 = 79;
        return;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2701 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2705 ) && GET_COUNT( 151 ) >= 15000 )
    {
        variable118 = 80;
        return;
    }

    int localVariable160 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 209 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 200 ) )
    {
        localVariable160 = 1;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 609 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) )
    {
        localVariable160 = 1;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1010 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) )
    {
        localVariable160 = 1;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1410 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1400 ) )
    {
        localVariable160 = 1;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1806 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1800 ) )
    {
        localVariable160 = 1;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2214 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2200 ) )
    {
        localVariable160 = 1;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2703 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2700 ) )
    {
        localVariable160 = 1;
    }

    
    if ( localVariable160 == 1 )
    {
        variable118 = 21;
        return;
    }

    
    if ( variable117 == 2 )
    {
        variable118 = 30;
    }
    else if ( variable117 == 3 )
    {
        variable118 = 31;
    }
    else if ( variable117 == 4 )
    {
        variable118 = 0x20;
    }
    else if ( variable117 == 5 )
    {
        variable118 = 33;
    }
    else if ( variable117 == 6 )
    {
        variable118 = 34;
    }
    else if ( variable117 == 8 )
    {
        variable118 = 35;
    }
    else if ( variable117 == 7 )
    {
        variable118 = 36;
    }
    else if ( variable117 == 9 )
    {
        variable118 = 37;
    }
    else 
    {
        variable118 = 31;
    }

}


void EXIT_OK_MES_SET()
{
    
    if ( variable117 == 2 )
    {
        variable118 = 38;
    }
    else if ( variable117 == 3 )
    {
        variable118 = 39;
    }
    else if ( variable117 == 4 )
    {
        variable118 = 40;
    }
    else if ( variable117 == 5 )
    {
        variable118 = 41;
    }
    else if ( variable117 == 6 )
    {
        variable118 = 42;
    }
    else if ( variable117 == 8 )
    {
        variable118 = 43;
    }
    else if ( variable117 == 7 )
    {
        variable118 = 44;
    }
    else if ( variable117 == 9 )
    {
        variable118 = 45;
    }

}


void EXIT_CANCEL_MES_SET()
{
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 205 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 206 ) )
    {
        variable118 = 49;
        return;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 4 ) )
    {
        
        if ( !BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 54 ) )
        {
            variable118 = 51;
        }
        else 
        {
            variable118 = 55;
        }

        return;
    }

    
    if ( variable117 == 2 )
    {
        variable118 = 50;
    }
    else if ( variable117 == 3 )
    {
        variable118 = 51;
    }
    else if ( variable117 == 4 )
    {
        variable118 = 52;
    }
    else if ( variable117 == 5 )
    {
        variable118 = 53;
    }
    else if ( variable117 == 6 )
    {
        variable118 = 54;
    }
    else if ( variable117 == 8 )
    {
        variable118 = 55;
    }
    else if ( variable117 == 7 )
    {
        variable118 = 56;
    }
    else if ( variable117 == 9 )
    {
        variable118 = 57;
    }

}


void ALERT_MAX_EXIT()
{
    MSG_WND_DSP();
    MSG( ALERT_MAX_EXIT_mes00, 0 );
    MSG( ALERT_MAX_EXIT_mes01, 0 );
    MSG( ALERT_MAX_EXIT_mes02, 0 );
    MSG_WND_CLS();
}


void EX_MES_CHECK()
{
    int localVariable162 = FLD_GET_MAJOR();
    int localVariable163 = FLD_GET_MINOR();
    
    if ( localVariable162 == 151 || localVariable162 == 152 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 209 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 200 ) && GET_COUNT( 145 ) < 55000 )
        {
            MSG_WND_DSP();
            MSG( D01_04_e166_015_mes01, 0 );
            MSG_WND_CLS();
            MSG_WND_DSP();
            MSG( D01_04_e166_015_mes02, 0 );
            MSG_WND_CLS();
            MSG_WND_DSP();
            MSG( D01_04_e166_015_mes03, 0 );
            MSG_WND_CLS();
            variable133 = 1;
        }

    }
    else if ( localVariable162 == 153 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 609 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) && GET_COUNT( 146 ) < 50000 )
        {
            MSG_WND_DSP();
            MSG( D02_04_e210_240_mes01, 0 );
            MSG_WND_CLS();
            MSG_WND_DSP();
            MSG( D02_04_e210_240_mes02, 0 );
            MSG_WND_CLS();
            MSG_WND_DSP();
            MSG( D02_04_e210_240_mes03, 0 );
            MSG_WND_CLS();
            variable133 = 1;
        }

    }

}


void D_EXIT_EV_FIRST()
{
    int localVariable164 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 0x0100 + 22 ) )
    {
        localVariable164 = 190;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 200 ) )
    {
        localVariable164 = 151;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 601 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) )
    {
        localVariable164 = 153;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1001 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) )
    {
        localVariable164 = 154;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1401 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1400 ) )
    {
        localVariable164 = 155;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1801 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1800 ) )
    {
        localVariable164 = 156;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2200 ) )
    {
        localVariable164 = 157;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2701 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2700 ) )
    {
        localVariable164 = 159;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 3101 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 3100 ) )
    {
        localVariable164 = 160;
    }

    
    if ( localVariable164 == 151 || localVariable164 == 152 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 209 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 200 ) && GET_COUNT( 145 ) < 55000 )
        {
            SET_COUNT( 145, 55000 );
        }

        return;
    }
    else if ( localVariable164 == 153 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 607 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 608 ) && GET_COUNT( 146 ) < 29000 )
        {
            SET_COUNT( 146, 29050 );
            BIT_ON( 0 + 0x0800 + 0x0800 + 604 );
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 609 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) && GET_COUNT( 146 ) < 50000 )
        {
            SET_COUNT( 146, 50000 );
        }

        return;
    }
    else if ( localVariable164 == 154 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1010 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) && GET_COUNT( 147 ) < 70000 )
        {
            SET_COUNT( 147, 70000 );
        }

        return;
    }
    else if ( localVariable164 == 155 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1402 ) && BIT_CHK( 0 + 0x0800 + 0x0800 + 1403 ) && GET_COUNT( 148 ) >= 20000 && GET_COUNT( 148 ) < 30000 )
        {
            SET_COUNT( 148, 30000 );
        }

        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1408 ) )
        {
            BIT_ON( 0 + 0x0800 + 0x0800 + 1410 );
            SET_COUNT( 148, 70000 );
        }

        return;
    }
    else if ( localVariable164 == 156 )
    {
        return;
    }
    else if ( localVariable164 == 157 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2285 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2287 ) && GET_COUNT( 150 ) <= 11500 )
        {
            SET_COUNT( 150, 11500 );
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2202 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2203 ) && GET_COUNT( 150 ) <= 40000 )
        {
            SET_COUNT( 150, 40000 );
        }
        else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2214 ) && GET_COUNT( 150 ) <= 70000 )
        {
            SET_COUNT( 150, 70000 );
        }

        return;
    }
    else if ( localVariable164 == 159 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2701 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2705 ) )
        {
            BIT_ON( 0 + 0x0800 + 0x0800 + 2705 );
            SET_COUNT( 151, 19000 );
            BIT_ON( 0 + 0x0800 + 0x0800 + 76 );
        }

        return;
    }
    else if ( localVariable164 == 190 )
    {
        return;
    }

}


void D_EXIT_EV_SECOND()
{
    int localVariable166 = 0;
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 0x1000 + 0x0100 + 0x0100 + 22 ) )
    {
        localVariable166 = 190;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 200 ) )
    {
        localVariable166 = 151;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 601 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 600 ) )
    {
        localVariable166 = 153;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1001 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) )
    {
        localVariable166 = 154;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1401 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1400 ) )
    {
        localVariable166 = 155;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1801 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 1800 ) )
    {
        localVariable166 = 156;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2201 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2200 ) )
    {
        localVariable166 = 157;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 2701 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 2700 ) )
    {
        localVariable166 = 159;
    }
    else if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 3101 ) && !BIT_CHK( 0 + 0x0800 + 0x0800 + 3100 ) )
    {
        localVariable166 = 160;
    }

    
    if ( localVariable166 == 151 || localVariable166 == 152 )
    {
        return;
    }
    else if ( localVariable166 == 153 )
    {
        
        if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 604 ) && GET_COUNT( 146 ) == 29050 )
        {
            SET_COUNT( 146, 29000 );
            CALL_EVENT( 201, 1 );
        }

        return;
    }
    else if ( localVariable166 == 154 )
    {
        return;
    }
    else if ( localVariable166 == 155 )
    {
        return;
    }
    else if ( localVariable166 == 156 )
    {
        return;
    }
    else if ( localVariable166 == 157 )
    {
        return;
    }
    else if ( localVariable166 == 159 )
    {
        
        if ( GET_COUNT( 151 ) == 19000 )
        {
            BIT_OFF( 0 + 0x0800 + 0x0800 + 76 );
        }

        return;
    }
    else if ( localVariable166 == 190 )
    {
        return;
    }

}


void DUNGEON_EXIT_NG_EV()
{
    WAIT( 15 );
    FLD_SMP_EVENT_BEGIN( 0 );
    int localVariable168 = FLD_GET_MAJOR();
    int localVariable169 = FLD_GET_MINOR();
    
    if ( localVariable168 == 151 || localVariable168 == 152 )
    {
        MSG_WND_DSP();
        MSG( D01_EXIT_NG_EV01_mes01, 0 );
        MSG_WND_CLS();
    }

    FLD_SMP_EVENT_END( 0 );
}


void PALACE_START_EV()
{
    int localVariable170 = FLD_PC_GET_RESHND( 0 );
    int localVariable171 = FLD_PC_GET_RESHND( 1 );
    int localVariable172 = FLD_PC_GET_RESHND( 2 );
    int localVariable173 = FLD_PC_GET_RESHND( 3 );
    
    if ( localVariable170 > 0 )
    {
        float localFloatVariable3 = FLD_MODEL_GET_X_TRANSLATE( localVariable170 );
        float localFloatVariable4 = FLD_MODEL_GET_Y_TRANSLATE( localVariable170 );
        float localFloatVariable5 = FLD_MODEL_GET_Z_TRANSLATE( localVariable170 );
    }

    
    if ( localVariable171 > 0 )
    {
        float localFloatVariable6 = FLD_MODEL_GET_X_TRANSLATE( localVariable171 );
        float localFloatVariable7 = FLD_MODEL_GET_Y_TRANSLATE( localVariable171 );
        float localFloatVariable8 = FLD_MODEL_GET_Z_TRANSLATE( localVariable171 ) + 100;
    }

    
    if ( localVariable172 > 0 )
    {
        float localFloatVariable9 = FLD_MODEL_GET_X_TRANSLATE( localVariable172 );
        float localFloatVariable10 = FLD_MODEL_GET_Y_TRANSLATE( localVariable172 );
        float localFloatVariable11 = FLD_MODEL_GET_Z_TRANSLATE( localVariable172 ) - 100;
    }

    
    if ( localVariable173 > 0 )
    {
        float localFloatVariable12 = FLD_MODEL_GET_X_TRANSLATE( localVariable173 ) + 400;
        float localFloatVariable13 = FLD_MODEL_GET_Y_TRANSLATE( localVariable173 );
        float localFloatVariable14 = FLD_MODEL_GET_Z_TRANSLATE( localVariable173 ) + 100;
    }

    int localVariable174 = FLD_MODEL_CLONE_ADDMOTION( localVariable170, 255 );
    FLD_CAMERA_LOCK();
    int localVariable175 = FLD_CAMERA_READ( 151, 1, 100 );
    FLD_CAMERA_READ_SYNC( localVariable175 );
    MDL_ANIM( localVariable174, 60 + 0, 0, 0, 0f );
    SYNC();
    MDL_ANIM( localVariable174, 60 + 0, 0, 0, 1f );
    FLD_CAMERA_SET( localVariable175 );
    CAMERA_SET_RESRC( localVariable175, localVariable174 );
    FLD_CAMERA_ANIM( localVariable175, 0, 0, 0, 1f );
    FADEIN( 0, 10 );
    FADE_SYNC();
    WAIT( 85 );
    float localFloatVariable15 = FLD_CAMERA_GET_X_POS();
    float localFloatVariable16 = FLD_CAMERA_GET_Y_POS();
    float localFloatVariable17 = FLD_CAMERA_GET_Z_POS();
    float localFloatVariable18 = FLD_CAMERA_GET_X_ROT();
    float localFloatVariable19 = FLD_CAMERA_GET_Y_ROT();
    float localFloatVariable20 = FLD_CAMERA_GET_Z_ROT();
    float localFloatVariable21 = FLD_CAMERA_GET_W_ROT();
    float localFloatVariable22 = FLD_CAMERA_GET_FOVY();
    FLD_CAMERA_RESET();
    FLD_CAMERA_FREE( localVariable175 );
    FLD_CAMERA_LOCK_INTERP( localFloatVariable15, localFloatVariable16, localFloatVariable17, localFloatVariable18, localFloatVariable19, localFloatVariable20, localFloatVariable21, 0 );
    FLD_CAMERA_FOVY_INTERP( localFloatVariable22, 0 );
    MDL_ANIM( localVariable174, 58, 1, 0, 1f );
    FLD_MODEL_REVERT_ADDMOTION( localVariable170, localVariable174 );
    FLD_CAMERA_SYNC_INTERP();
    FLD_CAMERA_UNLOCK();
    FLD_CAMERA_SET_FIXED( localFloatVariable15, localFloatVariable16, localFloatVariable17, localFloatVariable18, localFloatVariable19, localFloatVariable20, localFloatVariable21 );
}


void NAVIGATOR_SAFE_SET()
{
    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 200 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 295 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 296 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 267 );
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1000 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 1074 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 1388 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 1075 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 1048 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 1087 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 1040 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 1032 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 1065 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 1066 );
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 1400 ) )
    {
        BIT_ON( 0 + 0x0800 + 0x0800 + 1437 );
        BIT_ON( 0 + 0x0800 + 0x0800 + 1749 );
    }

}


void auto_recover()
{
    FLD_PANEL_HIDE_DISABLE();
    int localVariable176 = FLD_CHECK_AUTO_RECOVER();
    
    if ( localVariable176 == 0 )
    {
        localVariable176 = FLD_SIMPLE_SYS_MSG( MSG_AUTO_RECOVER_CONF, 1, 1 );
        
        if ( localVariable176 == 1 )
        {
            FLD_USE_AUTO_RECOVER();
        }

    }
    else if ( localVariable176 == 1 )
    {
        FLD_SIMPLE_SYS_MSG( MSG_AUTO_RECOVER_FULL, 0, 1 );
    }
    else if ( localVariable176 == 2 )
    {
        FLD_SIMPLE_SYS_MSG( MSG_AUTO_RECOVER_NO_USER, 0, 1 );
    }

}


void sobj_recover()
{
    int localVariable177 = SOBJ_RECOVER0 + RND( 2 );
    FLD_REPORT_MSG_DTL( 8, 1, localVariable177, 0 );
    FLD_WAIT( 30 );
    FLD_SOBJ_RECOVER();
    FLD_REPORT_MSGSYNC_DTL( 8, 1, localVariable177, 0 );
    FLD_REPORT_FREE();
    MSG_WND_DSP();
    MSG_SYSTEM( SCHOBJ_SYSTEM );
    MSG_WND_CLS();
}


void AT_D_SHORTCUT_SYS()
{
    int localVariable179 = FLD_GET_MAJOR();
    int localVariable180 = FLD_GET_MINOR();
    
    if ( FLD_CHECK_AT_DUNGEON() == 1 )
    {
        variable12 = 9;
    }
    else if ( localVariable179 >= 190 && localVariable179 <= 194 )
    {
        variable12 = 9;
    }
    else 
    {
        variable12 = 9;
    }

    int localVariable181 = FLD_GET_DNG_NO();
    int localVariable182 = FLD_GET_DNG_LEVEL();
    int localVariable183 = 0;
    
    if ( localVariable179 == 190 && localVariable180 == 1 )
    {
        localVariable183 = 1;
    }
    else if ( localVariable181 == 1 )
    {
        
        if ( localVariable182 == 2 )
        {
            localVariable183 = 1;
        }

    }
    else if ( localVariable181 == 2 )
    {
        
        if ( localVariable182 == 4 || localVariable182 == 7 )
        {
            localVariable183 = 1;
        }

    }
    else if ( localVariable181 == 3 )
    {
        
        if ( localVariable182 == 5 || localVariable182 == 8 )
        {
            localVariable183 = 1;
        }

    }
    else if ( localVariable181 == 4 )
    {
        
        if ( localVariable182 == 6 || localVariable182 == 10 )
        {
            localVariable183 = 1;
        }

    }
    else if ( localVariable181 == 5 )
    {
        
        if ( localVariable182 == 4 || localVariable182 == 8 || localVariable182 == 12 )
        {
            localVariable183 = 1;
        }

    }
    else if ( localVariable181 == 6 )
    {
        
        if ( localVariable182 == 5 || localVariable182 == 9 || localVariable182 == 13 )
        {
            localVariable183 = 1;
        }

    }
    else if ( localVariable181 == 7 )
    {
        
        if ( localVariable182 == 6 || localVariable182 == 10 || localVariable182 == 14 )
        {
            localVariable183 = 1;
        }

    }
    else if ( localVariable181 == 8 && localVariable182 == 1 )
    {
        localVariable183 = 1;
    }

    
    if ( BIT_CHK( 0 + 0x0800 + 0x0800 + 164 ) )
    {
        localVariable183 = 0;
    }

    int localVariable184 = 0;
    
    if ( localVariable179 == 190 && localVariable180 == 1 )
    {
        localVariable184 = 0;
    }
    else if ( FLD_CHECK_DNG_EDIT_FLOOR() == 0 )
    {
        
        if ( FLD_CHECK_DNG_FIND_PARTS( 0 ) == 1 )
        {
            localVariable184 = 1;
        }

    }
    else if ( localVariable183 == 1 )
    {
        localVariable184 = 1;
    }

    int localVariable185 = 0;
    
    if ( localVariable179 == 190 && localVariable180 == 1 )
    {
        localVariable185 = 0;
    }
    else if ( FLD_CHECK_DNG_EDIT_FLOOR() == 0 )
    {
        
        if ( FLD_CHECK_DNG_FIND_PARTS( 1 ) == 1 )
        {
            localVariable185 = 1;
        }

    }
    else if ( localVariable181 == 1 && localVariable182 == 2 || localVariable181 == 2 && localVariable182 == 7 || localVariable181 == 3 && localVariable182 == 8 || localVariable181 == 4 && localVariable182 == 10 || localVariable181 == 5 && localVariable182 == 12 || localVariable181 == 6 && localVariable182 == 13 || localVariable181 == 7 && localVariable182 == 14 )
    {
        
        if ( FLD_CHECK_DNG_TRAVERSE( localVariable181 + 1, 1 ) == 1 )
        {
            localVariable185 = 1;
        }

    }
    else if ( localVariable181 == 8 && localVariable182 == 1 )
    {
        localVariable185 = 0;
    }
    else if ( localVariable183 == 1 )
    {
        localVariable185 = 1;
    }

    variable13 = 131071;
    
    if ( localVariable183 == 1 )
    {
        variable13 = variable13 - 1;
        variable13 = variable13 - 8;
    }

    
    if ( localVariable185 == 1 )
    {
        variable13 = variable13 - 2;
    }

    
    if ( localVariable184 == 1 )
    {
        variable13 = variable13 - 4;
    }

    PUTS( "*******************************" );
    PUTS( "*******************************" );
    PUT( 131071 - variable13 );
    PUTS( "*******************************" );
    PUTS( "*******************************" );
}

void CallOriginalSquareMenu()
{
	auto_recover();
}

void SUB_MoruShowFace()
{
    
    if ( FLD_CHECK_MORGANA_BAG() == 1 )
    {
        int localVariable35 = FLD_PC_GET_CURRENT_RESHND( 0 );
        int localVariable36 = MDL_GET_ITEM_RESHND( localVariable35, 2 );
        MDL_ANIM( localVariable36, 50, 0, 0, 1f );
        MDL_ANIM_NEXT( localVariable36, 51, 1, 0, 1f );
    }

}

void SUB_MoruReturnBag()
{
    
    if ( FLD_CHECK_MORGANA_BAG() == 1 )
    {
        int localVariable37 = FLD_PC_GET_CURRENT_RESHND( 0 );
        int localVariable38 = MDL_GET_ITEM_RESHND( localVariable37, 2 );
        MDL_ANIM( localVariable38, 52, 0, 5, 1f );
        MDL_ANIM_NEXT( localVariable38, 0, 1, 0, 1f );
    }

}

void Fld_FadeOut_CallCalendar()
{
    FADEOUT( 15, 10 );
    FADE_SYNC();
}
